!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired76b;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired76b=r),r("euqRf"),r("e7S07"),r("cRUDO");var i=r("dIxxU"),o="".concat("https://api.themoviedb.org/3","/trending/").concat("movie","/");function c(t,n,a){return e(i).get("".concat(o).concat(t,"?api_key=").concat("0d2fc6d2597c3f501e7437cf40d08b03","&page=").concat(n,"&language=").concat(a))}var l=r("2ZaIc"),s=r("hsNhQ"),d={data:1,change:function(e){this.data=e},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=document.querySelector("#overlay-list-trends");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),q(_,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),q(_,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),q(_,d.data),window.scrollTo(0,0)}));var u=document.querySelector(".library-cards-film"),f='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\' aria-label=\'flip left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',v='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\' aria-label=\'flip right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function g(e,t){var n="";return t?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":e===d.data?n+"<button class='btn-pagination-active'>".concat(e,"</button>"):n+"<button class='btn-pagination'>".concat(e,"</button>")}function m(e,t){var n=document.querySelector("#overlay-list-trends"),a=document.querySelector("#overlay-list-search");n&&n.remove(),a&&a.remove();var r="";if(e<=7){for(var i=1;i<=e;i++)r+=g(i);return r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),void u.insertAdjacentHTML("beforeend",r)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return r+=g(1),r+=g(2),r+=g(3),r+=g(4),r+=g(5),r+=g(6),r+=g(d.data,!0),r+=g(e),r+=v,r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),void u.insertAdjacentHTML("beforeend",r);r+=g(1),r+=g(2),r+=g(3),r+=g(4),r+=g(5),r+=g(6),r+=g(7),r+=g(d.data,!0),r+=g(e),r+=v,r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),u.insertAdjacentHTML("beforeend",r)}else if(d.data<=e-5){if(window.matchMedia("(min-width: 768px)").matches)return r+=f,r+=g(1),r+=g(d.data,!0),r+=g(d.data-2),r+=g(d.data-1),r+=g(d.data),r+=g(d.data+1),r+=g(d.data+2),r+=g(d.data,!0),r+=g(e),r+=v,r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),void u.insertAdjacentHTML("beforeend",r);r+=f,r+=g(1),r+=g(d.data,!0),r+=g(d.data-1),r+=g(d.data),r+=g(d.data+1),r+=g(d.data,!0),r+=g(e),r+=v,r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),u.insertAdjacentHTML("beforeend",r)}else{if(window.matchMedia("(max-width: 320px)").matches)return r+=f,r+=g(1),r+=g(d.data,!0),r+=g(e-5),r+=g(e-4),r+=g(e-3),r+=g(e-2),r+=g(e-1),r+=g(e),r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),void u.insertAdjacentHTML("beforeend",r);r+=f,r+=g(1),r+=g(d.data,!0),r+=g(e-6),r+=g(e-5),r+=g(e-4),r+=g(e-3),r+=g(e-2),r+=g(e-1),r+=g(e),r="<div class='overlay-pagination' id='".concat(t,"'>").concat(r,"</div>"),u.insertAdjacentHTML("beforeend",r)}}var p=r("70uTk"),h=r("2dZGR"),b=r("jSiUv"),y=r("1wRKO"),w=document.querySelector(".list-films"),k=document.querySelector(".trending-selector"),S=document.querySelector(".day"),x=document.querySelector(".week"),L=document.querySelector("#checkbox"),_="day",T=localStorage.getItem("localLang");function q(e,t,n){k.classList.remove("visually-hidden"),c(e,t,n).then((function(e){var t=e.data;localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(t.results)),m(t.total_pages,"overlay-list-trends");var n=t.results.map((function(e){return'<li class="link list-films_card" data-id="'.concat(e.id,'">\n            <a href="##" class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=').concat((0,y.posterRender)(e.poster_path),'\n                    loading="lazy"\n                    alt="').concat((0,p.titleSrinking)(e.title),'"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">').concat((0,p.titleSrinking)(e.title),'</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">').concat((0,p.genresSrinking)((0,s.moviesGenresConvertation)(e.genre_ids)),'</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ').concat((0,h.dateConvertation)(e.release_date),"\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>")})).join("");w.innerHTML="",w.insertAdjacentHTML("afterbegin",n)})).catch((function(e){(0,b.notificationLaunch)(e.message)}))}S.disabled=!0,(0,l.fetchMovieGenres)(),q(_,d.data,T),L.addEventListener("input",(function(){L.checked?(T="uk",(0,l.fetchMovieGenres)(),q(_,d.data,T)):(T="en",(0,l.fetchMovieGenres)(),q(_,d.data,T))})),S.addEventListener("click",(function(){w.innerHTML="",S.classList.add("act"),S.disabled=!0,x.classList.remove("act"),x.disabled=!1,_="day",d.change(1),q(_,1,T)})),x.addEventListener("click",(function(){w.innerHTML="",x.classList.add("act"),x.disabled=!0,S.classList.remove("act"),S.disabled=!1,_="week",d.change(1),q(_,1,T)}));var M=r("bpxeT"),C=r("2TvXO"),E=(M=r("bpxeT"),C=r("2TvXO"),i=r("dIxxU"),r("b7JqP")),O="0d2fc6d2597c3f501e7437cf40d08b03",j="".concat("https://api.themoviedb.org/3","/search/movie"),H="";function U(e,t){return A.apply(this,arguments)}function A(){return(A=e(M)(e(C).mark((function t(n,a){var r;return e(C).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(0,E.enableSpinnerSearch)(),H=localStorage.getItem("localLang"),t.next=5,e(i).get("".concat(j,"?api_key=").concat(O,"&query=").concat(n,"&language=").concat(H,"&page=").concat(a));case 5:return r=t.sent.data,(0,E.disableSpinnerSearch)(),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),(0,E.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}s=r("hsNhQ"),p=r("70uTk"),h=r("2dZGR"),y=r("1wRKO");var I=document.querySelector(".list-films");function N(e){var t=e.map((function(e){return'<li class="link list-films_card" data-id=\''.concat(e.id,'\'>\n        <a href="##" class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=').concat((0,y.posterRender)(e.poster_path),'\n                  loading="lazy"\n                  alt="').concat((0,p.titleSrinking)(e.title),'"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">').concat((0,p.titleSrinking)(e.title),'</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">').concat((0,p.genresSrinking)((0,s.moviesGenresConvertation)(e.genre_ids)),'</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ').concat((0,h.dateConvertation)(e.release_date),"\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>")})).join("");I.innerHTML="",I.insertAdjacentHTML("afterbegin",t)}b=r("jSiUv");var R=document.querySelector(".search-form"),D=document.querySelector(".warning-notification"),G=document.querySelector(".trending-selector"),J=document.querySelector("input"),B=null;function P(e,t){return Z.apply(this,arguments)}function Z(){return(Z=e(M)(e(C).mark((function t(n,a){var r,i;return e(C).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(n,a);case 3:if(r=e.sent,0!==(i=r.results).length){e.next=11;break}if("en"!==localStorage.getItem("localLang")){e.next=10;break}return e.abrupt("return",D.textContent="Search result is not successful. Enter the correct movie name, please!");case 10:return e.abrupt("return",D.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!");case 11:localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(r.results)),D.textContent="",N(i),m(r.total_pages,"overlay-list-search"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),(0,b.notificationLaunch)(e.t0.message);case 21:case"end":return e.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}R.addEventListener("submit",(function(e){if(e.preventDefault(),d.change(1),!(B=e.target.elements.searchQuery.value.trim()))return"en"===localStorage.getItem("localLang")?D.textContent="Enter a film title, please!":D.textContent="Будь ласка, введіть назву фільма!";D.textContent="",G.classList.add("visually-hidden"),P(B,d.data)})),J.addEventListener("input",(function(e){D.textContent="",(B=e.target.value)||q(_,1)})),r("a43B7");var Q=r("2eh48"),z=r("2EUDM"),F=r("jf5Po"),K=document.querySelector("#home"),W=document.querySelector("#library"),X=document.querySelector(".search-form-input"),V=document.querySelector(".trending-selector-text"),Y=document.querySelector("#btnDay"),$=document.querySelector("#btnWeek");var ee=r("2buvE"),te=document.querySelector("#checkbox"),ne=document.querySelector("[data-logout]");function ae(){ee.languege.setAttribute("lang","en"),K.textContent="Home",W.textContent="My library",X.setAttribute("placeholder","Movie search"),V.textContent="Popular by",Y.textContent="Day",$.textContent="Week",ne.textContent="Log out",(0,Q.logInEn)(),(0,z.signUpEn)(),(0,F.footerEn)(),(0,ee.setLocalLang)()}function re(){ee.languege.setAttribute("lang","uk"),K.textContent="Домашня",W.textContent="Моя бібліотека",X.setAttribute("placeholder","Пошук фільмів"),V.textContent="Популярні за",Y.textContent="День",$.textContent="Тиждень",ne.textContent="Вихід",(0,Q.logInUk)(),(0,z.signUpUk)(),(0,F.footerUk)(),(0,ee.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(te.checked=!0,re()):(te.checked=!1,ee.languege.setAttribute("lang","en"),ae()),te.addEventListener("input",(function(e){e.preventDefault(),te.checked?re():ae()})),r("4F07H"),r("1Gwk9"),document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=document.querySelector("#overlay-list-search");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),P(B,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),P(B,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),P(B,d.data),window.scrollTo(0,0)}));var ie=document.documentElement,oe=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){var e=ie.scrollHeight-ie.clientHeight;ie.scrollTop/e>.4?oe.classList.remove("visually-hidden"):oe.classList.add("visually-hidden")})),oe.addEventListener("click",(function(){ie.scrollTo({top:1,behavior:"smooth"})})),oe.classList.add("visually-hidden"),r("b7JqP"),r("2Z7mb"),r("jSiUv")}();
//# sourceMappingURL=index.353275f8.js.map
