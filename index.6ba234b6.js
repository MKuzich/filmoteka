function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired76b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired76b=i),i("bMZn5"),i("9CwSo"),i("gY4QW");var o=i("2shzp");function r(t,n,a){return e(o).get(`https://api.themoviedb.org/3/trending/movie/${t}?api_key=0d2fc6d2597c3f501e7437cf40d08b03&page=${n}&language=${a}`)}var s=i("3k5Ll"),l=i("fteFn");let d={data:1,change:function(e){this.data=e},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-trends");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),_(L,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),_(L,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),_(L,d.data),window.scrollTo(0,0)}));const c=document.querySelector(".library-cards-film"),u='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',f='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function g(e,t){let n="";return t?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":e===d.data?n+`<button class='btn-pagination-active'>${e}</button>`:n+`<button class='btn-pagination'>${e}</button>`}function m(e,t){const n=document.querySelector("#overlay-list-trends"),a=document.querySelector("#overlay-list-search");n&&n.remove(),a&&a.remove();let i="";if(e<=7){for(let t=1;t<=e;t++)i+=g(t);return i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(7),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else if(d.data<=e-5){if(window.matchMedia("(min-width: 768px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-2),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data+2),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else{if(window.matchMedia("(max-width: 320px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-6),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}}var v=i("kBzfj"),p=i("l4Mc0"),h=i("jo2Hs");const y=document.querySelector(".list-films"),b=document.querySelector(".trending-selector"),w=document.querySelector(".day"),S=document.querySelector(".week"),k=document.querySelector("#checkbox");let L="day",x=localStorage.getItem("localLang");function _(e,t,n){b.classList.remove("visually-hidden"),r(e,t,n).then((({data:e})=>{localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(e.results)),m(e.total_pages,"overlay-list-trends");const t=e.results.map((e=>`<li class="link list-films_card" data-id="${e.id}">\n            <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/${e.poster_path}\n                    alt="movie poster"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>`)).join("");y.innerHTML="",y.insertAdjacentHTML("afterbegin",t)})).catch((e=>{(0,h.notificationLaunch)(e.message)}))}w.disabled=!0,(0,s.fetchMovieGenres)(),_(L,d.data,x),k.addEventListener("input",(function(){k.checked?(x="uk",(0,s.fetchMovieGenres)(),_(L,d.data,x)):(x="en",(0,s.fetchMovieGenres)(),_(L,d.data,x))})),w.addEventListener("click",(function(){y.innerHTML="",w.classList.add("act"),w.disabled=!0,S.classList.remove("act"),S.disabled=!1,L="day",d.change(1),_(L,1,x)})),S.addEventListener("click",(function(){y.innerHTML="",S.classList.add("act"),S.disabled=!0,w.classList.remove("act"),w.disabled=!1,L="week",d.change(1),_(L,1,x)}));o=i("2shzp");var M=i("js4LK");let $="";async function q(t,n){try{(0,M.enableSpinnerSearch)(),$=localStorage.getItem("localLang");const{data:a}=await e(o).get(`https://api.themoviedb.org/3/search/movie?api_key=0d2fc6d2597c3f501e7437cf40d08b03&query=${t}&language=${$}&page=${n}`);return(0,M.disableSpinnerSearch)(),a}catch(e){(0,M.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+e)}}l=i("fteFn"),v=i("kBzfj"),p=i("l4Mc0");const C=document.querySelector(".list-films");function T(e){const t=e.map((e=>{return`<li class="link list-films_card" data-id='${e.id}'>\n        <a class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=${t=e.poster_path,null===t?"https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif":"https://image.tmdb.org/t/p/original/"+t}\n                  alt="${(0,v.titleSrinking)(e.title)} poster"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`;var t})).join("");C.insertAdjacentHTML("afterbegin",t)}h=i("jo2Hs");const j=document.querySelector(".search-form"),H=document.querySelector(".warning-notification"),E=document.querySelector(".trending-selector"),A=document.querySelector("input");let O=null;async function I(e,t){try{const n=await q(e,t),a=n.results;if(0===a.length)return"en"===localStorage.getItem("localLang")?H.textContent="Search result is not successful. Enter the correct movie name, please!":H.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!";localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(n.results)),H.textContent="",T(a),m(n.total_pages,"overlay-list-search")}catch(e){(0,h.notificationLaunch)(e.message)}}j.addEventListener("submit",(function(e){if(e.preventDefault(),d.change(1),O=e.target.elements.searchQuery.value.trim(),!O)return"en"===localStorage.getItem("localLang")?H.textContent="Enter a film title, please!":H.textContent="Будь ласка, введіть назву фільма!";H.textContent="",E.classList.add("visually-hidden"),I(O,d.data)})),A.addEventListener("input",(function(e){H.textContent="",O=e.target.value,O||_(L,1)})),i("jE1jP");var N=i("137kL"),U=i("6nRjx"),B=i("gfB1D");const D=document.querySelector("#home"),G=document.querySelector("#library"),z=document.querySelector(".search-form-input"),J=document.querySelector(".trending-selector-text"),F=document.querySelector("#btnDay"),R=document.querySelector("#btnWeek");var W=i("9B33X");const K=document.querySelector("#checkbox"),P=document.querySelector("[data-logout]");function Q(){W.languege.setAttribute("lang","en"),D.textContent="Home",G.textContent="My library",z.setAttribute("placeholder","Movie search"),J.textContent="Popular by",F.textContent="Day",R.textContent="Week",P.textContent="Log out",(0,N.logInEn)(),(0,U.signUpEn)(),(0,B.footerEn)(),(0,W.setLocalLang)()}function Z(){W.languege.setAttribute("lang","uk"),D.textContent="Домашня",G.textContent="Моя бібліотека",z.setAttribute("placeholder","Пошук фільмів"),J.textContent="Популярні за",F.textContent="День",R.textContent="Тиждень",P.textContent="Вихід",(0,N.logInUk)(),(0,U.signUpUk)(),(0,B.footerUk)(),(0,W.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(K.checked=!0,Z()):(K.checked=!1,W.languege.setAttribute("lang","en"),Q()),K.addEventListener("input",(function(e){e.preventDefault(),K.checked?Z():Q()})),i("6HA5D"),i("422V3");document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-search");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),I(O,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),I(O,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),I(O,d.data),window.scrollTo(0,0)}));const V=document.documentElement,X=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){const e=V.scrollHeight-V.clientHeight;V.scrollTop/e>.4?X.classList.remove("visually-hidden"):X.classList.add("visually-hidden")})),X.addEventListener("click",(function(){V.scrollTo({top:1,behavior:"smooth"})})),X.classList.add("visually-hidden"),i("js4LK"),i("brr8Z"),i("jo2Hs");
//# sourceMappingURL=index.6ba234b6.js.map
