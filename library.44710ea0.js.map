{"mappings":"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","sources":["src/js/ua/lib.js","src/js/library.js","src/js/pagination-library.js"],"sourcesContent":["const selectedLang = document.querySelector('#checkbox');\n\nconst languege = document.querySelector('html');\nconst menuHome = document.querySelector('#homeL');\nconst menuLibrary = document.querySelector('#libraryL');\n\nconst btnWatched = document.querySelector('[data-watched-btn]');\nconst btnQueue = document.querySelector('[data-queue-btn]');\n\nconst btnLogIn = document.querySelector('[data-login-modal-open]');\nconst btnSignUp = document.querySelector('[data-signup-modal-open]');\nconst btnLogOut = document.querySelector('[data-logout]');\n\n//login\nconst modalLogInTitle = document.querySelector('#logInTitle');\nconst modalLogInEmail = document.querySelector('#logInEmail');\nconst modalLogInPassword = document.querySelector('#logInPassword');\nconst modalbtnLogIn = document.querySelector('#logInBtn');\n\n//signUp\nconst modalSignUpTitle = document.querySelector('#signUpTitle');\nconst modalSignUpEmail = document.querySelector('#signUpEmail');\nconst modalSignUpPassword = document.querySelector('#signUpPasswoerd');\nconst modalBtnSignUp = document.querySelector('#btnSignUp');\n\n//footer\nconst footerRights = document.querySelector('#footerRight');\nconst developText = document.querySelector('#developText');\nconst footerText = document.querySelector('#footerText');\nconst footerStudent = document.querySelector('#footerStudent');\n\nconst langValue = localStorage.getItem('localLang');\n\nif (langValue === 'uk') {\n  selectedLang.checked = true;\n  uaVersion();\n} else {\n  selectedLang.checked = false;\n  languege.setAttribute('html', 'en');\n  enVersion();\n}\n\nselectedLang.addEventListener('input', onChange);\n\nfunction onChange(evt) {\n\n  evt.preventDefault();\n  if (!selectedLang.checked) {\n    enVersion();\n  } else {\n    uaVersion();\n\n  }\n}\n\nfunction enVersion() {\n  btnWatched.textContent = 'Watched';\n  btnQueue.textContent = 'Queue';\n\n  menuHome.textContent = 'Home';\n  menuLibrary.textContent = 'My library';\n\n  btnLogIn.textContent = 'Log in';\n  btnSignUp.textContent = 'Sign up';\n  btnLogOut.textContent = 'Log out';\n\n  //logIn\n  modalLogInTitle.textContent = 'Enter your email and password for log in';\n  modalLogInEmail.textContent = 'Email';\n  modalLogInPassword.textContent = 'Password';\n  modalbtnLogIn.innerHTML =\n    '<span class=\"submit-spinner submit-spinner_hide\" id=\"spinnerlogin\"></span>Log in';\n\n  //signUp\n  modalSignUpTitle.textContent = 'Enter your email and password for sign up';\n  modalSignUpEmail.textContent = 'Email';\n  modalLogInPassword.textContent = 'Password';\n  modalBtnSignUp.innerHTML =\n    '<span class=\"submit-spinner submit-spinner_hide\" id=\"spinnersignup\"></span>Sign up';\n\n  // footer\n  footerRights.textContent = '© 2022 | All Rights Reserved |';\n  developText.textContent = 'Developed with';\n  footerText.textContent = 'by';\n  footerStudent.textContent = 'GoIT Students';\n\n  languege.setAttribute('html', 'en');\n  localLang();\n}\n\nfunction uaVersion() {\n  btnLogIn.textContent = 'Вхід';\n  btnSignUp.textContent = 'Реєстрація';\n  btnLogOut.textContent = 'Вихід';\n\n  menuHome.textContent = 'Домашня';\n  menuLibrary.textContent = 'Моя бібліотека';\n\n  btnWatched.textContent = 'Переглянуті';\n  btnQueue.textContent = 'В черзі';\n\n  //logIn\n  modalLogInTitle.textContent =\n    'Введіть електронну скриньку та пароль для входу';\n  modalLogInEmail.textContent = 'Електронна скринька';\n  modalLogInPassword.textContent = 'Пароль';\n  modalbtnLogIn.innerHTML =\n    '<span class=\"submit-spinner submit-spinner_hide\" id=\"spinnerlogin\"></span>Вхід';\n\n  //signUp\n  modalSignUpTitle.textContent =\n    'Введіть електрону скриньку та пароль для реєстрації';\n  modalSignUpEmail.textContent = 'Електронна скринька';\n  modalLogInPassword.textContent = 'Пароль';\n  modalBtnSignUp.innerHTML =\n    '<span class=\"submit-spinner submit-spinner_hide\" id=\"spinnersignup\"></span>Зареєструватися';\n\n  // footer\n  footerRights.textContent = '© 2022 | Всі права захищено |';\n  developText.textContent = 'Розроблено зі';\n  footerText.textContent = '';\n  footerStudent.textContent = 'Cтудентами GoIt';\n\n  languege.setAttribute('html', 'uk');\n  localLang();\n}\n\nfunction localLang() {\n  localStorage.setItem('localLang', languege.getAttribute('html'));\n}\n","import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { moviesGenresConvertation } from './movies-genres-convertation';\nimport { titleSrinking, genresSrinking } from './card-shrinking';\nimport {\n  createMarkupPaginationLibraryBtn,\n  currentPageLibrary,\n} from './pagination-library';\nimport { fetchMovieGenres } from './api/api-service-genres';\n\nexport let currentFilter = {\n  data: 'watched',\n  change: function (prop) {\n    this.data = prop;\n  },\n};\nimport { dateConvertation } from './date-convertation';\n\nlet USER_ID = null;\n\nconst auth = getAuth();\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    USER_ID = user.uid;\n    watched.classList.add('library-active-btn');\n    watched.removeAttribute('disabled');\n    queue.removeAttribute('disabled');\n    libraryWarningContainer.innerHTML = '';\n    markupLibraryRender(USER_ID, false);\n  } else {\n    let markup;\n    listFilms.innerHTML = '';\n    if (localStorage.getItem('localLang') === 'uk') {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>`;\n    } else {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>`;\n    }\n    libraryWarningContainer.innerHTML = '';\n    libraryWarningContainer.insertAdjacentHTML('beforeend', markup);\n    watched.setAttribute('disabled', 'disabled');\n    queue.setAttribute('disabled', 'disabled');\n  }\n});\n\nlet FILTER = 'watched';\n\nconst libraryWarningContainer = document.querySelector(\n  '.library__warning-container'\n);\nconst listFilms = document.querySelector('.list-films');\nconst watched = document.querySelector('[data-watched-btn]');\nconst queue = document.querySelector('[data-queue-btn]');\nwatched.addEventListener('click', onClickFilterChange);\nqueue.addEventListener('click', onClickFilterChange);\n\nfunction onClickFilterChange(e) {\n  if (e.target.hasAttribute('data-watched-btn')) {\n    currentFilter.change('watched');\n    watched.classList.add('library-active-btn');\n    queue.classList.remove('library-active-btn');\n    markupLibraryRender(USER_ID, false);\n    currentPageLibrary.change(1);\n    createMarkupPaginationLibraryBtn('overlay-list-library');\n    return;\n  }\n  currentFilter.change('queue');\n  watched.classList.remove('library-active-btn');\n  queue.classList.add('library-active-btn');\n  markupLibraryRender(USER_ID, false);\n  currentPageLibrary.change(1);\n  createMarkupPaginationLibraryBtn('overlay-list-library');\n}\n\nexport function markupLibraryRender(uid, arrayFromPagination) {\n  const savedMovies = localStorage.getItem(uid);\n  const parsedMovies = JSON.parse(savedMovies);\n\n  let array = parsedMovies[currentFilter.data];\n  if (array.length > 9) {\n    array = array.slice(0, 9);\n  }\n  if (arrayFromPagination) {\n    array = arrayFromPagination;\n  }\n  const markup = array\n    .map(item => {\n      return `<li class=\"link list-films_card\" data-id='${item.id}'>\n        <a class=\"link list-films_card-info\">\n                <div class=\"card-image__wrapper\">\n                    <img\n                    class=\"list-films_card-info_card-film\"\n                    src=https://image.tmdb.org/t/p/original/${item.poster_path}\n                    alt=\"${item.original_title}\"\n                />\n                </div>\n            <div class=\"list-films_card-info-footer\">\n            <h2 class=\"list-films_card-info-footer-name-film\">${titleSrinking(\n              item.title\n            )}</h2>\n              <div class=\"card-info-footer_characteristics\">\n              <p class=\"list-films_card-info-footer-genre-film\">${genresSrinking(\n                moviesGenresConvertation(item.genre_ids)\n              )}</p>\n              <p class=\"list-films_card-info-footer-production-year\">\n              ${dateConvertation(\n                item.release_date\n              )} <span class=\"info-block__values--orange\">${item.vote_average.toFixed(\n        1\n      )}</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`;\n    })\n    .join('');\n  createMarkupPaginationLibraryBtn('overlay-list-library');\n  listFilms.innerHTML = '';\n  listFilms.insertAdjacentHTML('afterbegin', markup);\n}\n\nlet modalButton = null;\nconst modalCloseBtnRef = document.querySelector('.modal-close');\nconst modalBackdropRef = document.querySelector('[data-film-modal]');\n\nfunction enableRerender(btn) {\n  modalButton = document.querySelector(`[data-action=\"${btn}\"]`);\n  modalButton.addEventListener('click', onModalButtonsClickHandler);\n}\n\nfunction disableRender() {\n  modalButton.removeEventListener('click', onModalButtonsClickHandler);\n  modalCloseBtnRef.removeEventListener('click', disableRender);\n  document.removeEventListener('keydown', onCloseModalBack);\n  modalBackdropRef.removeEventListener('click', onClickBack);\n}\n\nfunction onCloseModalBack(e) {\n  e.key === 'Escape' ? disableRender() : null;\n}\n\nfunction onClickBack(e) {\n  if (e.target.classList.contains('backdrop')) {\n    disableRender();\n  }\n}\n\nfunction onModalButtonsClickHandler(e) {\n  setTimeout(() => {\n    markupLibraryRender(USER_ID, false);\n    currentPageLibrary.change(1);\n    createMarkupPaginationLibraryBtn('overlay-list-library');\n    return;\n  }, 0);\n}\n\nconst listFilmsRef = document.querySelector('.list-films');\nlistFilmsRef.addEventListener('click', onClickRerender);\n\nfunction onClickRerender(e) {\n  if (!e.target.closest('li')) {\n    return;\n  }\n  enableRerender(currentFilter.data);\n\n  modalCloseBtnRef.addEventListener('click', disableRender);\n  document.addEventListener('keydown', onCloseModalBack);\n  modalBackdropRef.addEventListener('click', onClickBack);\n}\n\nconst langCheckBox = document.querySelector('#checkbox');\nlangCheckBox.addEventListener('input', onLangChange);\n\nasync function onLangChange() {\n  await fetchMovieGenres();\n  markupLibraryRender(USER_ID, false);\n  currentPageLibrary.change(1);\n  createMarkupPaginationLibraryBtn('overlay-list-library');\n  if (!USER_ID) {\n    let lang = '';\n    if (langCheckBox.checked) {\n      lang = 'uk';\n    } else {\n      lang = 'en';\n    }\n    let markup;\n    listFilms.innerHTML = '';\n    if (localStorage.getItem('localLang') === 'uk') {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>`;\n    } else {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>`;\n    }\n    libraryWarningContainer.innerHTML = '';\n    libraryWarningContainer.insertAdjacentHTML('beforeend', markup);\n  }\n}\n","import { onAuthStateChanged, getAuth } from 'firebase/auth';\nimport { markupLibraryRender } from './library';\nimport { currentFilter } from './library';\n\nlet USER_ID = null;\nconst auth = getAuth();\nonAuthStateChanged(auth, user => {\n  if (user) {\n    USER_ID = user.uid;\n  }\n});\n\nexport let currentPageLibrary = {\n  data: 1,\n  totalData: null,\n  setTotalData: function () {\n    const ArrFilms = JSON.parse(localStorage.getItem(USER_ID));\n    this.totalData = Math.ceil(ArrFilms.watched.length / 9);\n  },\n  change: function (prop) {\n    this.data = prop;\n  },\n};\n\nconst galleryRef = document.querySelector('.library-cards-film');\n\ngalleryRef.addEventListener('click', handlePage);\n\nfunction handlePage(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const overlayListRef = document.querySelector('#overlay-list-library');\n  if (!overlayListRef) {\n    return;\n  }\n  currentPageLibrary.change(Number(e.target.textContent));\n  overlayListRef.remove();\n  takeInfoFromLocal(currentFilter.data);\n  window.scrollTo(0, 0);\n}\n\nfunction takeInfoFromLocal(filter) {\n  const arrayFilmsFromLS = JSON.parse(localStorage.getItem(USER_ID));\n  let arrayFilms = arrayFilmsFromLS[filter];\n  currentPageLibrary.setTotalData();\n  if (arrayFilms.length > 9) {\n    let start = (currentPageLibrary.data - 1) * 9;\n    let end = start + 9;\n    arrayFilms = arrayFilms.slice(start, end);\n    markupLibraryRender(USER_ID, arrayFilms);\n    return;\n  }\n  markupLibraryRender(USER_ID, arrayFilms);\n}\n\nexport function createMarkupPaginationLibraryBtn(idForPagination) {\n  const overlayListLibraryRef = document.querySelector('#overlay-list-library');\n  if (overlayListLibraryRef) {\n    overlayListLibraryRef.remove();\n  }\n  currentPageLibrary.setTotalData();\n  let data = '';\n  for (let i = 1; i <= currentPageLibrary.totalData; i++) {\n    data += createPaginationOneBtn(i);\n  }\n  data = `<div class='overlay-pagination' id='${idForPagination}'>${data}</div>`;\n  galleryRef.insertAdjacentHTML('beforeend', data);\n}\n\nfunction createPaginationOneBtn(num) {\n  let arrayBtn = '';\n  if (num === currentPageLibrary.data) {\n    return (arrayBtn += `<button class='btn-pagination-active'>${num}</button>`);\n  }\n  return (arrayBtn += `<button class='btn-pagination'>${num}</button>`);\n}\n"],"names":["$b3f44324bb873016$var$selectedLang","document","querySelector","$b3f44324bb873016$var$languege","$b3f44324bb873016$var$menuHome","$b3f44324bb873016$var$menuLibrary","$b3f44324bb873016$var$btnWatched","$b3f44324bb873016$var$btnQueue","$b3f44324bb873016$var$btnLogIn","$b3f44324bb873016$var$btnSignUp","$b3f44324bb873016$var$btnLogOut","$b3f44324bb873016$var$modalLogInTitle","$b3f44324bb873016$var$modalLogInEmail","$b3f44324bb873016$var$modalLogInPassword","$b3f44324bb873016$var$modalbtnLogIn","$b3f44324bb873016$var$modalSignUpTitle","$b3f44324bb873016$var$modalSignUpEmail","$b3f44324bb873016$var$modalBtnSignUp","$b3f44324bb873016$var$footerRights","$b3f44324bb873016$var$developText","$b3f44324bb873016$var$footerText","$b3f44324bb873016$var$footerStudent","$b3f44324bb873016$var$enVersion","textContent","innerHTML","setAttribute","$b3f44324bb873016$var$localLang","$b3f44324bb873016$var$uaVersion","localStorage","setItem","getAttribute","getItem","checked","addEventListener","evt","preventDefault","$bpxeT","parcelRequire","$4e1fdcffa24ebef7$var$USER_ID","$3SEMc","$4e1fdcffa24ebef7$var$auth","getAuth","onAuthStateChanged","user","uid","$4e1fdcffa24ebef7$export$b1e55d38a82c3f20","data","totalData","setTotalData","ArrFilms","JSON","parse","this","Math","ceil","watched","length","change","prop","$4e1fdcffa24ebef7$var$galleryRef","$4e1fdcffa24ebef7$export$10a98662b9fe2110","idForPagination","overlayListLibraryRef","remove","i","$4e1fdcffa24ebef7$var$createPaginationOneBtn","concat","insertAdjacentHTML","num","arrayBtn","e","target","nodeName","overlayListRef","Number","filter","arrayFilms","start","end","slice","$93effc6fc56091ad$export$d274036e6967e1bc","$4e1fdcffa24ebef7$var$takeInfoFromLocal","$93effc6fc56091ad$export$6d4307a0dba6866d","window","scrollTo","$93effc6fc56091ad$var$USER_ID","$93effc6fc56091ad$var$auth","markup","$93effc6fc56091ad$var$watched","classList","add","removeAttribute","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$libraryWarningContainer","$93effc6fc56091ad$var$listFilms","$93effc6fc56091ad$var$onClickFilterChange","hasAttribute","arrayFromPagination","savedMovies","array","map","item","id","poster_path","original_title","$70uTk","titleSrinking","title","genresSrinking","$hsNhQ","moviesGenresConvertation","genre_ids","$2dZGR","dateConvertation","release_date","vote_average","toFixed","join","$93effc6fc56091ad$var$modalButton","$93effc6fc56091ad$var$modalCloseBtnRef","$93effc6fc56091ad$var$modalBackdropRef","$93effc6fc56091ad$var$disableRender","removeEventListener","$93effc6fc56091ad$var$onModalButtonsClickHandler","$93effc6fc56091ad$var$onCloseModalBack","$93effc6fc56091ad$var$onClickBack","key","contains","setTimeout","closest","btn","$93effc6fc56091ad$var$langCheckBox","$93effc6fc56091ad$var$_onLangChange","$parcel$interopDefault","$2TvXO","mark","_callee","$2ZaIc","fetchMovieGenres","apply","arguments"],"version":3,"file":"library.44710ea0.js.map"}