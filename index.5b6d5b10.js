function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired76b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired76b=i),i("bMZn5"),i("9CwSo"),i("gY4QW");var a=i("2shzp");function r(t,n,o){return e(a).get(`https://api.themoviedb.org/3/trending/movie/${t}?api_key=0d2fc6d2597c3f501e7437cf40d08b03&page=${n}&language=${o}`)}var s=i("3k5Ll"),l=i("fteFn");let d={data:1,change:function(e){this.data=e},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-trends");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),L(x,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),L(x,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),L(x,d.data),window.scrollTo(0,0)}));const c=document.querySelector(".library-cards-film"),u='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',m='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function f(e,t){let n="";return t?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":e===d.data?n+`<button class='btn-pagination-active'>${e}</button>`:n+`<button class='btn-pagination'>${e}</button>`}function g(e,t){const n=document.querySelector("#overlay-list-trends"),o=document.querySelector("#overlay-list-search");n&&n.remove(),o&&o.remove();let i="";if(e<=7){for(let t=1;t<=e;t++)i+=f(t);return i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return i+=f(1),i+=f(2),i+=f(3),i+=f(4),i+=f(5),i+=f(6),i+=f(d.data,!0),i+=f(e),i+=m,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=f(1),i+=f(2),i+=f(3),i+=f(4),i+=f(5),i+=f(6),i+=f(7),i+=f(d.data,!0),i+=f(e),i+=m,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else if(d.data<=e-5){if(window.matchMedia("(min-width: 768px)").matches)return i+=u,i+=f(1),i+=f(d.data,!0),i+=f(d.data-2),i+=f(d.data-1),i+=f(d.data),i+=f(d.data+1),i+=f(d.data+2),i+=f(d.data,!0),i+=f(e),i+=m,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=f(1),i+=f(d.data,!0),i+=f(d.data-1),i+=f(d.data),i+=f(d.data+1),i+=f(d.data,!0),i+=f(e),i+=m,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else{if(window.matchMedia("(max-width: 320px)").matches)return i+=u,i+=f(1),i+=f(d.data,!0),i+=f(e-5),i+=f(e-4),i+=f(e-3),i+=f(e-2),i+=f(e-1),i+=f(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=f(1),i+=f(d.data,!0),i+=f(e-6),i+=f(e-5),i+=f(e-4),i+=f(e-3),i+=f(e-2),i+=f(e-1),i+=f(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}}var p=i("kBzfj"),v=i("l4Mc0");const h=document.querySelector(".list-films"),y=document.querySelector(".trending-selector"),b=document.querySelector(".day"),S=document.querySelector(".week"),w=document.querySelector("#checkbox");let x="day",C=localStorage.getItem("localLang");function L(e,t,n){y.classList.remove("visually-hidden"),r(e,t,n).then((({data:e})=>{localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(e.results)),g(e.total_pages,"overlay-list-trends");const t=e.results.map((e=>`<li class="link list-films_card" data-id="${e.id}">\n            <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/${e.poster_path}\n                    alt="movie poster"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">${(0,p.titleSrinking)(e.title)}</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">${(0,p.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ${(0,v.dateConvertation)(e.release_date)}\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>`)).join("");h.innerHTML="",h.insertAdjacentHTML("afterbegin",t)})).catch((e=>{console.log(e)}))}b.disabled=!0,(0,s.fetchMovieGenres)(),L(x,d.data,C),w.addEventListener("input",(function(){w.checked?(C="uk",(0,s.fetchMovieGenres)(),L(x,C,d.data)):(C="en",(0,s.fetchMovieGenres)(),L(x,C,d.data))})),b.addEventListener("click",(function(){h.innerHTML="",b.classList.add("act"),b.disabled=!0,S.classList.remove("act"),S.disabled=!1,x="day",d.change(1),L(x,1,C)})),S.addEventListener("click",(function(){h.innerHTML="",S.classList.add("act"),S.disabled=!0,b.classList.remove("act"),b.disabled=!1,x="week",d.change(1),L(x,1,C)}));a=i("2shzp");var k=i("js4LK");let q="";async function _(t,n){try{(0,k.enableSpinnerSearch)(),q=localStorage.getItem("localLang");const{data:o}=await e(a).get(`https://api.themoviedb.org/3/search/movie?api_key=0d2fc6d2597c3f501e7437cf40d08b03&query=${t}&language=${q}&page=${n}`);return(0,k.disableSpinnerSearch)(),o}catch(e){(0,k.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+e)}}l=i("fteFn"),p=i("kBzfj"),v=i("l4Mc0");const M=document.querySelector(".list-films");function T(e){const t=e.map((e=>{return`<li class="link list-films_card" data-id='${e.id}'>\n        <a class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=${t=e.poster_path,null===t?"https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif":"https://image.tmdb.org/t/p/original/"+t}\n                  alt="${(0,p.titleSrinking)(e.title)} poster"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,p.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,p.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ${(0,v.dateConvertation)(e.release_date)}\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`;var t})).join("");M.insertAdjacentHTML("afterbegin",t)}const $=document.querySelector(".search-form"),E=document.querySelector(".warning-notification"),H=document.querySelector(".trending-selector"),j=document.querySelector("input");let A=null;async function I(e,t){try{const n=await _(e,t),o=n.results;if(0===o.length)return"en"===localStorage.getItem("localLang")?E.textContent="Search result is not successful. Enter the correct movie name, please!":E.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!";localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(n.results)),E.textContent="",T(o),g(n.total_pages,"overlay-list-search")}catch(e){console.log(e.message)}}$.addEventListener("submit",(function(e){if(e.preventDefault(),d.change(1),A=e.target.elements.searchQuery.value.trim(),!A)return E.textContent="Enter a film title, please!";E.textContent="",H.classList.add("visually-hidden"),I(A,d.data)})),j.addEventListener("input",(function(e){E.textContent="",A=e.target.value,A||L(x,1)})),i("jE1jP");const O=document.querySelector("#checkbox"),N=document.querySelector("html"),D=document.querySelector("#home"),U=document.querySelector("#library"),B=document.querySelector(".search-form-input"),G=document.querySelector("[data-login-modal-open]"),P=document.querySelector("[data-signup-modal-open]"),R=document.querySelector("[data-logout]"),z=document.querySelector(".trending-selector-text"),J=document.querySelector("#btnDay"),F=document.querySelector("#btnWeek"),W=document.querySelector("#logInTitle"),K=document.querySelector("#logInEmail"),Q=document.querySelector("#logInPassword"),Z=document.querySelector("#logInBtn"),V=document.querySelector("#signUpTitle"),Y=document.querySelector("#signUpEmail"),X=(document.querySelector("#signUpPasswoerd"),document.querySelector("#btnSignUp")),ee=document.querySelector("#footerRight"),te=document.querySelector("#developText"),ne=document.querySelector("#footerText"),oe=document.querySelector("#footerStudent");function ie(){N.setAttribute("html","en"),re(),D.textContent="Home",U.textContent="My library",B.setAttribute("placeholder","Movie search"),G.textContent="Log in",P.textContent="Sign up",R.textContent="Log out",z.textContent="Popular by",J.textContent="Day",F.textContent="Week",W.textContent="Enter your email and password for log in",K.textContent="Email",Q.textContent="Password",Z.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Log in',V.textContent="Enter your email and password for sign up",Y.textContent="Email",Q.textContent="Password",X.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Sign up',ee.textContent="© 2022 | All Rights Reserved |",te.textContent="Developed with",ne.textContent="by",oe.textContent="GoIT Students"}function ae(){N.setAttribute("html","uk"),re(),D.textContent="Домашня",U.textContent="Моя бібліотека",B.setAttribute("placeholder","Пошук фільмів"),G.textContent="Вхід",P.textContent="Реєстрація",R.textContent="Вихід",z.textContent="Популярні за",J.textContent="День",F.textContent="Тиждень",W.textContent="Введіть електронну скриньку та пароль для входу",K.textContent="Електронна скринька",Q.textContent="Пароль",Z.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Вхід',V.textContent="Введіть електрону скриньку та пароль для реєстрації",Y.textContent="Електронна скринька",Q.textContent="Пароль",X.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Зареєструватися',ee.textContent="© 2022 | Всі права захищено |",te.textContent="Розроблено зі",ne.textContent="",oe.textContent="Cтудентами GoIt"}function re(){localStorage.setItem("localLang",N.getAttribute("html"))}"uk"===localStorage.getItem("localLang")?(O.checked=!0,ae()):(O.checked=!1,N.setAttribute("html","en"),ie()),O.addEventListener("input",(function(e){e.preventDefault(),O.checked?ae():ie()})),i("6HA5D"),i("422V3");document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-search");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),I(A,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),I(A,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),I(A,d.data),window.scrollTo(0,0)}));const se=document.documentElement,le=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){const e=se.scrollHeight-se.clientHeight;se.scrollTop/e>.4?le.classList.remove("visually-hidden"):le.classList.add("visually-hidden")})),le.addEventListener("click",(function(){se.scrollTo({top:1,behavior:"smooth"})})),le.classList.add("visually-hidden"),i("js4LK"),i("brr8Z");
//# sourceMappingURL=index.5b6d5b10.js.map
