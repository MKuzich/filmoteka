{"mappings":"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","sources":["src/js/ua/lib.js","src/js/ua/header-library.js","src/js/library.js","src/js/pagination-library.js"],"sourcesContent":["import { logInEn,logInUk } from \"./logIn\";\nimport { signUpEn,signUpUk } from \"./signUp\";\nimport { footerEn,footerUk } from \"./footer\";\nimport { libraryHeaderEn,libraryHeaderUk } from \"./header-library\";\nimport { setLocalLang,languege } from \"./setLocalLang\";\n\nconst selectedLang = document.querySelector('#checkbox');\n\nconst btnLogOut = document.querySelector('[data-logout]');\n\n\nconst langValue = localStorage.getItem('localLang');\n\nif (langValue === 'uk') {\n  selectedLang.checked = true;\n  uaVersion();\n} else {\n  selectedLang.checked = false;\n  languege.setAttribute('html', 'en');\n  enVersion();\n}\n\nselectedLang.addEventListener('input', onChange);\n\nfunction onChange(evt) {\n\n  evt.preventDefault();\n  if (!selectedLang.checked) {\n    enVersion();\n  } else {\n    uaVersion();\n\n  }\n}\n\nfunction enVersion() {\n  libraryHeaderEn();\n  btnLogOut.textContent = 'Log out';\n  logInEn();\n  signUpEn();\n  footerEn();\n  languege.setAttribute('lang', 'en');\n  setLocalLang();\n}\n\nfunction uaVersion() {\n  libraryHeaderUk();\n  btnLogOut.textContent = 'Вихід';\n  logInUk();\n  signUpUk();\n  footerUk();\n  languege.setAttribute('lang', 'uk');\n  setLocalLang();\n}\n\n\n","const menuHome = document.querySelector('#homeL');\nconst menuLibrary = document.querySelector('#libraryL');\n\nconst btnWatched = document.querySelector('[data-watched-btn]');\nconst btnQueue = document.querySelector('[data-queue-btn]');\n\nexport function libraryHeaderEn() {\n    btnWatched.textContent = 'Watched';\n    btnQueue.textContent = 'Queue';\n    menuHome.textContent = 'Home';\n    menuLibrary.textContent = 'My library';\n};\n\nexport function libraryHeaderUk() {\n    menuHome.textContent = 'Домашня';\n    menuLibrary.textContent = 'Моя бібліотека';\n    btnWatched.textContent = 'Переглянуті';\n    btnQueue.textContent = 'В черзі';\n\n}","import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { moviesGenresConvertation } from './movies-genres-convertation';\nimport { titleSrinking, genresSrinking } from './card-shrinking';\nimport {\n  createMarkupPaginationLibraryBtn,\n  currentPageLibrary,\n} from './pagination-library';\nimport { fetchMovieGenres } from './api/api-service-genres';\n\nexport let currentFilter = {\n  data: 'watched',\n  change: function (prop) {\n    this.data = prop;\n  },\n};\nimport { dateConvertation } from './date-convertation';\nimport { posterRender } from './poster-render';\n\nlet USER_ID = null;\n\nconst auth = getAuth();\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    USER_ID = user.uid;\n    watched.classList.add('library-active-btn');\n    watched.removeAttribute('disabled');\n    queue.removeAttribute('disabled');\n    libraryWarningContainer.innerHTML = '';\n    currentPageLibrary.setTotalData(currentFilter.data);\n    markupLibraryRender(USER_ID, false);\n  } else {\n    let markup;\n    listFilms.innerHTML = '';\n    if (localStorage.getItem('localLang') === 'uk') {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>`;\n    } else {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>`;\n    }\n    libraryWarningContainer.innerHTML = '';\n    libraryWarningContainer.insertAdjacentHTML('beforeend', markup);\n    watched.setAttribute('disabled', 'disabled');\n    queue.setAttribute('disabled', 'disabled');\n    watched.classList.remove('library-active-btn');\n    queue.classList.remove('library-active-btn');\n  }\n});\n\nconst libraryWarningContainer = document.querySelector(\n  '.library__warning-container'\n);\nconst listFilms = document.querySelector('.list-films');\nconst watched = document.querySelector('[data-watched-btn]');\nconst queue = document.querySelector('[data-queue-btn]');\nwatched.addEventListener('click', onClickFilterChange);\nqueue.addEventListener('click', onClickFilterChange);\n\nfunction onClickFilterChange(e) {\n  if (e.target.hasAttribute('data-watched-btn')) {\n    currentFilter.change('watched');\n    watched.classList.add('library-active-btn');\n    queue.classList.remove('library-active-btn');\n    currentPageLibrary.setTotalData(currentFilter.data);\n    markupLibraryRender(USER_ID, false);\n    if (currentPageLibrary.dataUpdate()) {\n      currentPageLibrary.dataUpdate();\n    } else currentPageLibrary.change(1);\n    const overlayListLibraryRef = document.querySelector(\n      '#overlay-list-library'\n    );\n    if (overlayListLibraryRef) {\n      overlayListLibraryRef.remove();\n    }\n    if (currentPageLibrary.totalData > 1) {\n      createMarkupPaginationLibraryBtn('overlay-list-library');\n    }\n    return;\n  }\n  currentFilter.change('queue');\n  watched.classList.remove('library-active-btn');\n  queue.classList.add('library-active-btn');\n  currentPageLibrary.setTotalData(currentFilter.data);\n  markupLibraryRender(USER_ID, false);\n  if (currentPageLibrary.dataUpdate()) {\n    currentPageLibrary.dataUpdate();\n  } else currentPageLibrary.change(1);\n  const overlayListLibraryRef = document.querySelector('#overlay-list-library');\n  if (overlayListLibraryRef) {\n    overlayListLibraryRef.remove();\n  }\n  if (currentPageLibrary.totalData > 1) {\n    createMarkupPaginationLibraryBtn('overlay-list-library');\n  }\n}\n\nexport function markupLibraryRender(uid, arrayFromPagination) {\n  const savedMovies = localStorage.getItem(uid);\n  const parsedMovies = JSON.parse(savedMovies);\n  currentPageLibrary.dataUpdate();\n  let array = parsedMovies[currentFilter.data];\n  if (array.length === 0) {\n    listFilms.innerHTML = '';\n    emptyUsersLibraryMessage();\n    return;\n  }\n  if (array.length > 9) {\n    let start = (currentPageLibrary.data - 1) * 9;\n    let end = start + 9;\n    array = array.slice(start, end);\n  }\n  if (arrayFromPagination) {\n    array = arrayFromPagination;\n  }\n  const markup = array\n    .map(item => {\n      return `<li class=\"link list-films_card\" data-id='${item.id}'>\n        <a href=\"##\" class=\"link list-films_card-info\">\n                <div class=\"card-image__wrapper\">\n                    <img\n                    class=\"list-films_card-info_card-film lazyload\"\n                    src=\"https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif\"\n                    data-src=${posterRender(item.poster_path)}\n                    loading=\"lazy\"\n                    alt=\"${item.original_title}\"\n                />\n                </div>\n            <div class=\"list-films_card-info-footer\">\n            <h2 class=\"list-films_card-info-footer-name-film\">${titleSrinking(\n              item.title\n            )}</h2>\n              <div class=\"card-info-footer_characteristics\">\n              <p class=\"list-films_card-info-footer-genre-film\">${genresSrinking(\n                moviesGenresConvertation(item.genre_ids)\n              )}</p>\n              <p class=\"list-films_card-info-footer-production-year\">\n              ${dateConvertation(\n                item.release_date\n              )} <span class=\"info-block__values--orange\">${item.vote_average.toFixed(\n        1\n      )}</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`;\n    })\n    .join('');\n  if (currentPageLibrary.totalData > 1) {\n    createMarkupPaginationLibraryBtn('overlay-list-library');\n  }\n  libraryWarningContainer.innerHTML = '';\n  listFilms.innerHTML = '';\n  listFilms.insertAdjacentHTML('afterbegin', markup);\n}\n\nlet modalButton = null;\nconst modalCloseBtnRef = document.querySelector('.modal-close');\nconst modalBackdropRef = document.querySelector('[data-film-modal]');\n\nfunction enableRerender(btn) {\n  modalButton = document.querySelector(`[data-action=\"${btn}\"]`);\n  modalButton.addEventListener('click', onModalButtonsClickHandler);\n}\n\nfunction disableRender() {\n  modalButton.removeEventListener('click', onModalButtonsClickHandler);\n  modalCloseBtnRef.removeEventListener('click', disableRender);\n  document.removeEventListener('keydown', onCloseModalBack);\n  modalBackdropRef.removeEventListener('click', onClickBack);\n}\n\nfunction onCloseModalBack(e) {\n  e.key === 'Escape' ? disableRender() : null;\n}\n\nfunction onClickBack(e) {\n  if (e.target.classList.contains('backdrop')) {\n    disableRender();\n  }\n}\n\nfunction onModalButtonsClickHandler(e) {\n  setTimeout(() => {\n    markupLibraryRender(USER_ID, false);\n    if (currentPageLibrary.dataUpdate()) {\n      currentPageLibrary.dataUpdate();\n    } else currentPageLibrary.change(1);\n    createMarkupPaginationLibraryBtn('overlay-list-library');\n    return;\n  }, 0);\n}\n\nconst listFilmsRef = document.querySelector('.list-films');\nlistFilmsRef.addEventListener('click', onClickRerender);\n\nfunction onClickRerender(e) {\n  if (!e.target.closest('li')) {\n    return;\n  }\n  enableRerender(currentFilter.data);\n\n  modalCloseBtnRef.addEventListener('click', disableRender);\n  document.addEventListener('keydown', onCloseModalBack);\n  modalBackdropRef.addEventListener('click', onClickBack);\n}\n\nconst langCheckBox = document.querySelector('#checkbox');\nlangCheckBox.addEventListener('input', onLangChange);\n\nasync function onLangChange() {\n  await fetchMovieGenres();\n  if (!USER_ID) {\n    let markup;\n    listFilms.innerHTML = '';\n    if (localStorage.getItem('localLang') === 'uk') {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>`;\n    } else {\n      markup = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\" id = 'warning'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>`;\n    }\n    libraryWarningContainer.innerHTML = '';\n    libraryWarningContainer.insertAdjacentHTML('beforeend', markup);\n    return;\n  }\n  markupLibraryRender(USER_ID, false);\n  if (currentPageLibrary.dataUpdate()) {\n    currentPageLibrary.dataUpdate();\n  } else currentPageLibrary.change(1);\n  createMarkupPaginationLibraryBtn('overlay-list-library');\n}\n\nfunction emptyUsersLibraryMessage() {\n  const langCheckBox = document.querySelector('#checkbox');\n  let lang = '';\n  if (langCheckBox.checked) {\n    lang = 'uk';\n  } else {\n    lang = 'en';\n  }\n\n  let markupEmpty;\n  if (lang === 'uk') {\n    markupEmpty = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\">На разі тут немає фільмів. Ви можете додати фільми відкривши детальний опис на <a href=\"/src/index.html\" class=\"library__main-link\">головній сторінці</a>!</strong></div>`;\n  } else {\n    markupEmpty = `<div class=\"library__warning-wrapper\"><strong class=\"library__warning\">Now there are no movies. You can add movies by opening the detailed description on the <a href=\"/src/index.html\" class=\"library__main-link\">main page</a>!</strong></div>`;\n  }\n  libraryWarningContainer.innerHTML = '';\n  libraryWarningContainer.insertAdjacentHTML('beforeend', markupEmpty);\n}\n","import { onAuthStateChanged, getAuth } from 'firebase/auth';\nimport { markupLibraryRender } from './library';\nimport { currentFilter } from './library';\n\nlet USER_ID = null;\nconst auth = getAuth();\nonAuthStateChanged(auth, user => {\n  if (user) {\n    USER_ID = user.uid;\n  }\n});\n\nexport let currentPageLibrary = {\n  data: 1,\n  totalData: null,\n  setTotalData: function (prop) {\n    const ArrFilms = JSON.parse(localStorage.getItem(USER_ID));\n    this.totalData = Math.ceil(ArrFilms[prop].length / 9);\n  },\n  dataUpdate: function () {\n    if (localStorage.getItem('current-page')) {\n      this.data = Number(localStorage.getItem('current-page'));\n      return this.data;\n    } else return;\n  },\n  change: function (prop) {\n    this.data = prop;\n    localStorage.setItem('current-page', prop);\n  },\n};\n\nconst galleryRef = document.querySelector('.library-cards-film');\n\ngalleryRef.addEventListener('click', handlePage);\n\nfunction handlePage(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const overlayListRef = document.querySelector('#overlay-list-library');\n  if (!overlayListRef) {\n    return;\n  }\n  currentPageLibrary.change(Number(e.target.textContent));\n  overlayListRef.remove();\n  takeInfoFromLocal(currentFilter.data);\n  window.scrollTo(0, 0);\n}\n\nfunction takeInfoFromLocal(filter) {\n  const arrayFilmsFromLS = JSON.parse(localStorage.getItem(USER_ID));\n  let arrayFilms = arrayFilmsFromLS[filter];\n  currentPageLibrary.setTotalData(currentFilter.data);\n  if (arrayFilms.length > 9) {\n    let start = (currentPageLibrary.data - 1) * 9;\n    let end = start + 9;\n    arrayFilms = arrayFilms.slice(start, end);\n    markupLibraryRender(USER_ID, arrayFilms);\n    return;\n  }\n  markupLibraryRender(USER_ID, arrayFilms);\n}\n\nexport function createMarkupPaginationLibraryBtn(idForPagination) {\n  const overlayListLibraryRef = document.querySelector('#overlay-list-library');\n  if (overlayListLibraryRef) {\n    overlayListLibraryRef.remove();\n  }\n  currentPageLibrary.setTotalData(currentFilter.data);\n  let data = '';\n  for (let i = 1; i <= currentPageLibrary.totalData; i++) {\n    data += createPaginationOneBtn(i);\n  }\n  data = `<div class='overlay-pagination' id='${idForPagination}'>${data}</div>`;\n  galleryRef.insertAdjacentHTML('beforeend', data);\n}\n\nfunction createPaginationOneBtn(num) {\n  let arrayBtn = '';\n  if (num === currentPageLibrary.data) {\n    return (arrayBtn += `<button class='btn-pagination-active'>${num}</button>`);\n  }\n  return (arrayBtn += `<button class='btn-pagination'>${num}</button>`);\n}\n"],"names":["$2eh48","parcelRequire","$bff39b380227616c$var$menuHome","document","querySelector","$bff39b380227616c$var$menuLibrary","$bff39b380227616c$var$btnWatched","$bff39b380227616c$var$btnQueue","$b3f44324bb873016$var$selectedLang","$b3f44324bb873016$var$btnLogOut","$b3f44324bb873016$var$enVersion","textContent","logInEn","$2EUDM","signUpEn","$jf5Po","footerEn","$2buvE","languege","setAttribute","setLocalLang","$b3f44324bb873016$var$uaVersion","logInUk","signUpUk","footerUk","localStorage","getItem","checked","addEventListener","evt","preventDefault","$bpxeT","$4e1fdcffa24ebef7$var$USER_ID","$3SEMc","$4e1fdcffa24ebef7$var$auth","getAuth","onAuthStateChanged","user","uid","$4e1fdcffa24ebef7$export$b1e55d38a82c3f20","data","totalData","setTotalData","prop","ArrFilms","JSON","parse","this","Math","ceil","length","dataUpdate","Number","change","setItem","$4e1fdcffa24ebef7$var$galleryRef","$4e1fdcffa24ebef7$export$10a98662b9fe2110","idForPagination","overlayListLibraryRef","remove","$93effc6fc56091ad$export$6d4307a0dba6866d","i","$4e1fdcffa24ebef7$var$createPaginationOneBtn","concat","insertAdjacentHTML","num","arrayBtn","e","target","nodeName","overlayListRef","filter","arrayFilms","start","end","slice","$93effc6fc56091ad$export$d274036e6967e1bc","$4e1fdcffa24ebef7$var$takeInfoFromLocal","window","scrollTo","$93effc6fc56091ad$var$USER_ID","$93effc6fc56091ad$var$auth","markup","$93effc6fc56091ad$var$watched","classList","add","removeAttribute","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$libraryWarningContainer","innerHTML","$93effc6fc56091ad$var$listFilms","$93effc6fc56091ad$var$onClickFilterChange","hasAttribute","overlayListLibraryRef1","arrayFromPagination","savedMovies","parsedMovies","array","markupEmpty","langCheckBox1","lang","$93effc6fc56091ad$var$emptyUsersLibraryMessage","map","item","id","$1wRKO","posterRender","poster_path","original_title","$70uTk","titleSrinking","title","genresSrinking","$hsNhQ","moviesGenresConvertation","genre_ids","$2dZGR","dateConvertation","release_date","vote_average","toFixed","join","$93effc6fc56091ad$var$modalButton","$93effc6fc56091ad$var$modalCloseBtnRef","$93effc6fc56091ad$var$modalBackdropRef","$93effc6fc56091ad$var$disableRender","removeEventListener","$93effc6fc56091ad$var$onModalButtonsClickHandler","$93effc6fc56091ad$var$onCloseModalBack","$93effc6fc56091ad$var$onClickBack","key","contains","setTimeout","$93effc6fc56091ad$var$_onLangChange","$parcel$interopDefault","$2TvXO","mark","_callee","$2ZaIc","fetchMovieGenres","apply","arguments","closest","btn"],"version":3,"file":"library.8e41221e.js.map"}