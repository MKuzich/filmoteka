!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired76b;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired76b=a);var o=document.querySelector("#checkbox"),i=document.querySelector("html"),c=document.querySelector("#homeL"),l=document.querySelector("#libraryL"),s=document.querySelector("[data-watched-btn]"),d=document.querySelector("[data-queue-btn]"),u=document.querySelector("[data-login-modal-open]"),g=document.querySelector("[data-signup-modal-open]"),m=document.querySelector("[data-logout]"),v=document.querySelector("#logInTitle"),f=document.querySelector("#logInEmail"),p=document.querySelector("#logInPassword"),b=document.querySelector("#logInBtn"),y=document.querySelector("#signUpTitle"),h=document.querySelector("#signUpEmail"),S=(document.querySelector("#signUpPasswoerd"),document.querySelector("#btnSignUp")),x=document.querySelector("#footerRight"),w=document.querySelector("#developText"),L=document.querySelector("#footerText"),_=document.querySelector("#footerStudent");function C(){s.textContent="Watched",d.textContent="Queue",c.textContent="Home",l.textContent="My library",u.textContent="Log in",g.textContent="Sign up",m.textContent="Log out",v.textContent="Enter your email and password for log in",f.textContent="Email",p.textContent="Password",b.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Log in',y.textContent="Enter your email and password for sign up",h.textContent="Email",p.textContent="Password",S.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Sign up',x.textContent="© 2022 | All Rights Reserved |",w.textContent="Developed with",L.textContent="by",_.textContent="GoIT Students",i.setAttribute("html","en"),k()}function q(){u.textContent="Вхід",g.textContent="Реєстрація",m.textContent="Вихід",c.textContent="Домашня",l.textContent="Моя бібліотека",s.textContent="Переглянуті",d.textContent="В черзі",v.textContent="Введіть електронну скриньку та пароль для входу",f.textContent="Електронна скринька",p.textContent="Пароль",b.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Вхід',y.textContent="Введіть електрону скриньку та пароль для реєстрації",h.textContent="Електронна скринька",p.textContent="Пароль",S.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Зареєструватися',x.textContent="© 2022 | Всі права захищено |",w.textContent="Розроблено зі",L.textContent="",_.textContent="Cтудентами GoIt",i.setAttribute("html","uk"),k()}function k(){localStorage.setItem("localLang",i.getAttribute("html"))}"uk"===localStorage.getItem("localLang")?(o.checked=!0,q()):(o.checked=!1,i.setAttribute("html","en"),C()),o.addEventListener("input",(function(e){e.preventDefault(),o.checked?q():C()})),a("b7JqP"),a("euqRf"),a("1Gwk9"),a("e7S07"),a("cRUDO"),a("a43B7");var T=a("bpxeT"),E=a("2TvXO"),M=a("3SEMc"),A=a("hsNhQ"),H=a("70uTk"),I=(M=a("3SEMc"),null),D=(0,M.getAuth)();(0,M.onAuthStateChanged)(D,(function(e){e&&(I=e.uid)}));var N={data:1,totalData:null,setTotalData:function(){var e=JSON.parse(localStorage.getItem(I));this.totalData=Math.ceil(e.watched.length/9)},change:function(e){this.data=e}},O=document.querySelector(".library-cards-film");function R(e){var t=document.querySelector("#overlay-list-library");t&&t.remove(),N.setTotalData();for(var n="",r=1;r<=N.totalData;r++)n+=U(r);n="<div class='overlay-pagination' id='".concat(e,"'>").concat(n,"</div>"),O.insertAdjacentHTML("beforeend",n)}function U(e){var t="";return e===N.data?t+"<button class='btn-pagination-active'>".concat(e,"</button>"):t+"<button class='btn-pagination'>".concat(e,"</button>")}O.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=document.querySelector("#overlay-list-library");if(!t)return;N.change(Number(e.target.textContent)),t.remove(),function(e){var t=JSON.parse(localStorage.getItem(I))[e];if(N.setTotalData(),t.length>9){var n=9*(N.data-1),r=n+9;return t=t.slice(n,r),void X(I,t)}X(I,t)}(j.data),window.scrollTo(0,0)}));var P=a("2ZaIc"),G=a("2dZGR"),j={data:"watched",change:function(e){this.data=e}},J=null,B=(0,M.getAuth)();(0,M.onAuthStateChanged)(B,(function(e){var t;e?(J=e.uid,Q.classList.add("library-active-btn"),Q.removeAttribute("disabled"),Y.removeAttribute("disabled"),F.innerHTML="",X(J,!1)):(Z.innerHTML="",t="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',F.innerHTML="",F.insertAdjacentHTML("beforeend",t),Q.setAttribute("disabled","disabled"),Y.setAttribute("disabled","disabled"))}));var F=document.querySelector(".library__warning-container"),Z=document.querySelector(".list-films"),Q=document.querySelector("[data-watched-btn]"),Y=document.querySelector("[data-queue-btn]");function W(e){if(e.target.hasAttribute("data-watched-btn"))return j.change("watched"),Q.classList.add("library-active-btn"),Y.classList.remove("library-active-btn"),X(J,!1),N.change(1),void R("overlay-list-library");j.change("queue"),Q.classList.remove("library-active-btn"),Y.classList.add("library-active-btn"),X(J,!1),N.change(1),R("overlay-list-library")}function X(e,t){var n=localStorage.getItem(e),r=JSON.parse(n)[j.data];r.length>9&&(r=r.slice(0,9)),t&&(r=t);var a=r.map((function(e){return'<li class="link list-films_card" data-id=\''.concat(e.id,'\'>\n        <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/').concat(e.poster_path,'\n                    alt="').concat(e.original_title,'"\n                />\n                </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">').concat((0,H.titleSrinking)(e.title),'</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">').concat((0,H.genresSrinking)((0,A.moviesGenresConvertation)(e.genre_ids)),'</p>\n              <p class="list-films_card-info-footer-production-year">\n              ').concat((0,G.dateConvertation)(e.release_date),' <span class="info-block__values--orange">').concat(e.vote_average.toFixed(1),"</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>")})).join("");R("overlay-list-library"),Z.innerHTML="",Z.insertAdjacentHTML("afterbegin",a)}Q.addEventListener("click",W),Y.addEventListener("click",W);var z=null,K=document.querySelector(".modal-close"),V=document.querySelector("[data-film-modal]");function $(){z.removeEventListener("click",ne),K.removeEventListener("click",$),document.removeEventListener("keydown",ee),V.removeEventListener("click",te)}function ee(e){"Escape"===e.key&&$()}function te(e){e.target.classList.contains("backdrop")&&$()}function ne(e){setTimeout((function(){X(J,!1),N.change(1),R("overlay-list-library")}),0)}document.querySelector(".list-films").addEventListener("click",(function(e){if(!e.target.closest("li"))return;t=j.data,(z=document.querySelector('[data-action="'.concat(t,'"]'))).addEventListener("click",ne),K.addEventListener("click",$),document.addEventListener("keydown",ee),V.addEventListener("click",te);var t}));var re=document.querySelector("#checkbox");function ae(){return(ae=e(T)(e(E).mark((function t(){var n;return e(E).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.fetchMovieGenres)();case 2:X(J,!1),N.change(1),R("overlay-list-library"),J||("",re.checked?"uk":"en",Z.innerHTML="",n="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',F.innerHTML="",F.insertAdjacentHTML("beforeend",n));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}re.addEventListener("input",(function(){return ae.apply(this,arguments)})),a("4F07H"),a("2Z7mb")}();
//# sourceMappingURL=library.44710ea0.js.map
