var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequired76b;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var r={id:t,exports:{}};return e[t]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequired76b=o);const r=document.querySelector("#checkbox"),i=document.querySelector("html"),a=document.querySelector("#homeL"),l=document.querySelector("#libraryL"),s=document.querySelector("[data-watched-btn]"),c=document.querySelector("[data-queue-btn]"),d=document.querySelector("[data-login-modal-open]"),u=document.querySelector("[data-signup-modal-open]"),m=document.querySelector("[data-logout]"),g=document.querySelector("#logInTitle"),f=document.querySelector("#logInEmail"),b=document.querySelector("#logInPassword"),p=document.querySelector("#logInBtn"),y=document.querySelector("#signUpTitle"),v=document.querySelector("#signUpEmail"),h=(document.querySelector("#signUpPasswoerd"),document.querySelector("#btnSignUp")),S=document.querySelector("#footerRight"),x=document.querySelector("#developText"),C=document.querySelector("#footerText"),L=document.querySelector("#footerStudent");function q(){s.textContent="Watched",c.textContent="Queue",a.textContent="Home",l.textContent="My library",d.textContent="Log in",u.textContent="Sign up",m.textContent="Log out",g.textContent="Enter your email and password for log in",f.textContent="Email",b.textContent="Password",p.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Log in',y.textContent="Enter your email and password for sign up",v.textContent="Email",b.textContent="Password",h.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Sign up',S.textContent="© 2022 | All Rights Reserved |",x.textContent="Developed with",C.textContent="by",L.textContent="GoIT Students",i.setAttribute("html","en"),_()}function w(){d.textContent="Вхід",u.textContent="Реєстрація",m.textContent="Вихід",a.textContent="Домашня",l.textContent="Моя бібліотека",s.textContent="Переглянуті",c.textContent="В черзі",g.textContent="Введіть електронну скриньку та пароль для входу",f.textContent="Електронна скринька",b.textContent="Пароль",p.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Вхід',y.textContent="Введіть електрону скриньку та пароль для реєстрації",v.textContent="Електронна скринька",b.textContent="Пароль",h.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Зареєструватися',S.textContent="© 2022 | Всі права захищено |",x.textContent="Розроблено зі",C.textContent="",L.textContent="Cтудентами GoIt",i.setAttribute("html","uk"),_()}function _(){localStorage.setItem("localLang",i.getAttribute("html"))}"uk"===localStorage.getItem("localLang")?(r.checked=!0,w()):(r.checked=!1,i.setAttribute("html","en"),q()),r.addEventListener("input",(function(t){t.preventDefault(),r.checked?w():q()})),o("js4LK"),o("bMZn5"),o("422V3"),o("9CwSo"),o("gY4QW"),o("jE1jP");var k=o("amyG6"),T=o("fteFn"),E=o("kBzfj");k=o("amyG6");let A=null;const M=(0,k.getAuth)();(0,k.onAuthStateChanged)(M,(t=>{t&&(A=t.uid)}));let H={data:1,totalData:null,setTotalData:function(){const t=JSON.parse(localStorage.getItem(A));this.totalData=Math.ceil(t.watched.length/9)},change:function(t){this.data=t}};const I=document.querySelector(".library-cards-film");function $(t){const e=document.querySelector("#overlay-list-library");e&&e.remove(),H.setTotalData();let n="";for(let t=1;t<=H.totalData;t++)n+=D(t);n=`<div class='overlay-pagination' id='${t}'>${n}</div>`,I.insertAdjacentHTML("beforeend",n)}function D(t){let e="";return t===H.data?e+`<button class='btn-pagination-active'>${t}</button>`:e+`<button class='btn-pagination'>${t}</button>`}I.addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;const e=document.querySelector("#overlay-list-library");if(!e)return;H.change(Number(t.target.textContent)),e.remove(),function(t){let e=JSON.parse(localStorage.getItem(A))[t];if(H.setTotalData(),e.length>9){let t=9*(H.data-1),n=t+9;return e=e.slice(t,n),void J(A,e)}J(A,e)}(j.data),window.scrollTo(0,0)}));var N=o("l4Mc0");let j={data:"watched",change:function(t){this.data=t}},O=null;const U=(0,k.getAuth)();(0,k.onAuthStateChanged)(U,(t=>{if(t)O=t.uid,R.classList.add("library-active-btn"),R.removeAttribute("disabled"),B.removeAttribute("disabled"),P.innerHTML="",J(O,!1);else{let t;t="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',P.innerHTML="",P.insertAdjacentHTML("beforeend",t),R.setAttribute("disabled","disabled"),B.setAttribute("disabled","disabled")}}));const P=document.querySelector(".library__warning-container"),G=document.querySelector(".list-films"),R=document.querySelector("[data-watched-btn]"),B=document.querySelector("[data-queue-btn]");function F(t){if(t.target.hasAttribute("data-watched-btn"))return j.change("watched"),R.classList.add("library-active-btn"),B.classList.remove("library-active-btn"),J(O,!1),H.change(1),void $("overlay-list-library");j.change("queue"),R.classList.remove("library-active-btn"),B.classList.add("library-active-btn"),J(O,!1),H.change(1),$("overlay-list-library")}function J(t,e){const n=localStorage.getItem(t);let o=JSON.parse(n)[j.data];o.length>9&&(o=o.slice(0,9)),e&&(o=e);const r=o.map((t=>`<li class="link list-films_card" data-id='${t.id}'>\n        <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/${t.poster_path}\n                    alt="${t.original_title}"\n                />\n                </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,E.titleSrinking)(t.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,E.genresSrinking)((0,T.moviesGenresConvertation)(t.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n              ${(0,N.dateConvertation)(t.release_date)} <span class="info-block__values--orange">${t.vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`)).join("");$("overlay-list-library"),G.innerHTML="",G.insertAdjacentHTML("afterbegin",r)}R.addEventListener("click",F),B.addEventListener("click",F);let Q=null;const W=document.querySelector(".modal-close"),Y=document.querySelector("[data-film-modal]");function Z(){Q.removeEventListener("click",V),W.removeEventListener("click",Z),document.removeEventListener("keydown",z),Y.removeEventListener("click",K)}function z(t){"Escape"===t.key&&Z()}function K(t){t.target.classList.contains("backdrop")&&Z()}function V(t){setTimeout((()=>{J(O,!1),H.change(1),$("overlay-list-library")}),0)}document.querySelector(".list-films").addEventListener("click",(function(t){if(!t.target.closest("li"))return;e=j.data,Q=document.querySelector(`[data-action="${e}"]`),Q.addEventListener("click",V),W.addEventListener("click",Z),document.addEventListener("keydown",z),Y.addEventListener("click",K);var e})),o("6HA5D"),o("brr8Z");
//# sourceMappingURL=library.91fb823c.js.map
