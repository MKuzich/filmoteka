var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired76b;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired76b=r);const i=document.querySelector("#checkbox"),o=document.querySelector("html"),a=document.querySelector("#homeL"),l=document.querySelector("#libraryL"),s=document.querySelector("[data-watched-btn]"),c=document.querySelector("[data-queue-btn]"),d=document.querySelector("[data-login-modal-open]"),u=document.querySelector("[data-signup-modal-open]"),g=document.querySelector("[data-logout]"),m=document.querySelector("#logInTitle"),b=document.querySelector("#logInEmail"),f=document.querySelector("#logInPassword"),p=document.querySelector("#logInBtn"),y=document.querySelector("#signUpTitle"),v=document.querySelector("#signUpEmail"),h=(document.querySelector("#signUpPasswoerd"),document.querySelector("#btnSignUp")),S=document.querySelector("#footerRight"),L=document.querySelector("#developText"),w=document.querySelector("#footerText"),x=document.querySelector("#footerStudent");function C(){s.textContent="Watched",c.textContent="Queue",a.textContent="Home",l.textContent="My library",d.textContent="Log in",u.textContent="Sign up",g.textContent="Log out",m.textContent="Enter your email and password for log in",b.textContent="Email",f.textContent="Password",p.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Log in',y.textContent="Enter your email and password for sign up",v.textContent="Email",f.textContent="Password",h.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Sign up',S.textContent="© 2022 | All Rights Reserved |",L.textContent="Developed with",w.textContent="by",x.textContent="GoIT Students",o.setAttribute("html","en"),q()}function _(){d.textContent="Вхід",u.textContent="Реєстрація",g.textContent="Вихід",a.textContent="Домашня",l.textContent="Моя бібліотека",s.textContent="Переглянуті",c.textContent="В черзі",m.textContent="Введіть електронну скриньку та пароль для входу",b.textContent="Електронна скринька",f.textContent="Пароль",p.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Вхід',y.textContent="Введіть електрону скриньку та пароль для реєстрації",v.textContent="Електронна скринька",f.textContent="Пароль",h.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Зареєструватися',S.textContent="© 2022 | Всі права захищено |",L.textContent="Розроблено зі",w.textContent="",x.textContent="Cтудентами GoIt",o.setAttribute("html","uk"),q()}function q(){localStorage.setItem("localLang",o.getAttribute("html"))}"uk"===localStorage.getItem("localLang")?(i.checked=!0,_()):(i.checked=!1,o.setAttribute("html","en"),C()),i.addEventListener("input",(function(e){e.preventDefault(),i.checked?_():C()})),r("js4LK"),r("bMZn5"),r("422V3"),r("9CwSo"),r("gY4QW"),r("jE1jP");var k=r("amyG6"),T=r("fteFn"),E=r("kBzfj");k=r("amyG6");let M=null;const A=(0,k.getAuth)();(0,k.onAuthStateChanged)(A,(e=>{e&&(M=e.uid)}));let H={data:1,totalData:null,setTotalData:function(){const e=JSON.parse(localStorage.getItem(M));this.totalData=Math.ceil(e.watched.length/9)},change:function(e){this.data=e}};const I=document.querySelector(".library-cards-film");function $(e){const t=document.querySelector("#overlay-list-library");t&&t.remove(),H.setTotalData();let n="";for(let e=1;e<=H.totalData;e++)n+=D(e);n=`<div class='overlay-pagination' id='${e}'>${n}</div>`,I.insertAdjacentHTML("beforeend",n)}function D(e){let t="";return e===H.data?t+`<button class='btn-pagination-active'>${e}</button>`:t+`<button class='btn-pagination'>${e}</button>`}I.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-library");if(!t)return;H.change(Number(e.target.textContent)),t.remove(),function(e){let t=JSON.parse(localStorage.getItem(M))[e];if(H.setTotalData(),t.length>9){let e=9*(H.data-1),n=e+9;return t=t.slice(e,n),void Y(M,t)}Y(M,t)}(O.data),window.scrollTo(0,0)}));var N=r("3k5Ll"),j=r("l4Mc0");let O={data:"watched",change:function(e){this.data=e}},P=null;const U=(0,k.getAuth)();(0,k.onAuthStateChanged)(U,(e=>{if(e)P=e.uid,B.classList.add("library-active-btn"),B.removeAttribute("disabled"),F.removeAttribute("disabled"),G.innerHTML="",Y(P,!1);else{let e;R.innerHTML="",e="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',G.innerHTML="",G.insertAdjacentHTML("beforeend",e),B.setAttribute("disabled","disabled"),F.setAttribute("disabled","disabled")}}));const G=document.querySelector(".library__warning-container"),R=document.querySelector(".list-films"),B=document.querySelector("[data-watched-btn]"),F=document.querySelector("[data-queue-btn]");function J(e){if(e.target.hasAttribute("data-watched-btn"))return O.change("watched"),B.classList.add("library-active-btn"),F.classList.remove("library-active-btn"),Y(P,!1),H.change(1),void $("overlay-list-library");O.change("queue"),B.classList.remove("library-active-btn"),F.classList.add("library-active-btn"),Y(P,!1),H.change(1),$("overlay-list-library")}function Y(e,t){const n=localStorage.getItem(e);let r=JSON.parse(n)[O.data];r.length>9&&(r=r.slice(0,9)),t&&(r=t);const i=r.map((e=>`<li class="link list-films_card" data-id='${e.id}'>\n        <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/${e.poster_path}\n                    alt="${e.original_title}"\n                />\n                </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,E.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,E.genresSrinking)((0,T.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n              ${(0,j.dateConvertation)(e.release_date)} <span class="info-block__values--orange">${e.vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`)).join("");$("overlay-list-library"),R.innerHTML="",R.insertAdjacentHTML("afterbegin",i)}B.addEventListener("click",J),F.addEventListener("click",J);let Q=null;const W=document.querySelector(".modal-close"),Z=document.querySelector("[data-film-modal]");function z(){Q.removeEventListener("click",X),W.removeEventListener("click",z),document.removeEventListener("keydown",K),Z.removeEventListener("click",V)}function K(e){"Escape"===e.key&&z()}function V(e){e.target.classList.contains("backdrop")&&z()}function X(e){setTimeout((()=>{Y(P,!1),H.change(1),$("overlay-list-library")}),0)}document.querySelector(".list-films").addEventListener("click",(function(e){if(!e.target.closest("li"))return;t=O.data,Q=document.querySelector(`[data-action="${t}"]`),Q.addEventListener("click",X),W.addEventListener("click",z),document.addEventListener("keydown",K),Z.addEventListener("click",V);var t}));const ee=document.querySelector("#checkbox");ee.addEventListener("input",(async function(){if(await(0,N.fetchMovieGenres)(),Y(P,!1),H.change(1),$("overlay-list-library"),!P){let e,t="";t=ee.checked?"uk":"en",R.innerHTML="",e="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',G.innerHTML="",G.insertAdjacentHTML("beforeend",e)}})),r("6HA5D"),r("brr8Z");
//# sourceMappingURL=library.379838ee.js.map
