!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=e.parcelRequired76b;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){o[t]=e},e.parcelRequired76b=a),a("euqRf"),a("e7S07"),a("cRUDO");var r=a("dIxxU"),i="".concat("https://api.themoviedb.org/3","/trending/").concat("movie","/");function c(e,n,o){return t(r).get("".concat(i).concat(e,"?api_key=").concat("0d2fc6d2597c3f501e7437cf40d08b03","&page=").concat(n,"&language=").concat(o))}var s=a("2ZaIc"),l=a("hsNhQ"),d={data:1,change:function(t){this.data=t},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;var e=document.querySelector("#overlay-list-trends");if(!e)return;if(e.remove(),"flip-left"===t.target.dataset.action)return e.remove(),d.minusOne(),L(k,d.data),void window.scrollTo(0,0);if("flip-right"===t.target.dataset.action)return e.remove(),d.plusOne(),L(k,d.data),void window.scrollTo(0,0);d.change(Number(t.target.textContent)),e.remove(),L(k,d.data),window.scrollTo(0,0)}));var u=document.querySelector(".library-cards-film"),m='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',f='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function p(t,e){var n="";return e?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":t===d.data?n+"<button class='btn-pagination-active'>".concat(t,"</button>"):n+"<button class='btn-pagination'>".concat(t,"</button>")}function v(t,e){var n=document.querySelector("#overlay-list-trends"),o=document.querySelector("#overlay-list-search");n&&n.remove(),o&&o.remove();var a="";if(t<=7){for(var r=1;r<=t;r++)a+=p(r);return a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),void u.insertAdjacentHTML("beforeend",a)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return a+=p(1),a+=p(2),a+=p(3),a+=p(4),a+=p(5),a+=p(6),a+=p(d.data,!0),a+=p(t),a+=f,a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),void u.insertAdjacentHTML("beforeend",a);a+=p(1),a+=p(2),a+=p(3),a+=p(4),a+=p(5),a+=p(6),a+=p(7),a+=p(d.data,!0),a+=p(t),a+=f,a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),u.insertAdjacentHTML("beforeend",a)}else if(d.data<=t-5){if(window.matchMedia("(min-width: 768px)").matches)return a+=m,a+=p(1),a+=p(d.data,!0),a+=p(d.data-2),a+=p(d.data-1),a+=p(d.data),a+=p(d.data+1),a+=p(d.data+2),a+=p(d.data,!0),a+=p(t),a+=f,a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),void u.insertAdjacentHTML("beforeend",a);a+=m,a+=p(1),a+=p(d.data,!0),a+=p(d.data-1),a+=p(d.data),a+=p(d.data+1),a+=p(d.data,!0),a+=p(t),a+=f,a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),u.insertAdjacentHTML("beforeend",a)}else{if(window.matchMedia("(max-width: 320px)").matches)return a+=m,a+=p(1),a+=p(d.data,!0),a+=p(t-5),a+=p(t-4),a+=p(t-3),a+=p(t-2),a+=p(t-1),a+=p(t),a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),void u.insertAdjacentHTML("beforeend",a);a+=m,a+=p(1),a+=p(d.data,!0),a+=p(t-6),a+=p(t-5),a+=p(t-4),a+=p(t-3),a+=p(t-2),a+=p(t-1),a+=p(t),a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),u.insertAdjacentHTML("beforeend",a)}}var g=a("70uTk"),h=a("2dZGR"),y=document.querySelector(".list-films"),b=document.querySelector(".trending-selector"),x=document.querySelector(".day"),S=document.querySelector(".week"),w=document.querySelector("#checkbox"),k="day",C=localStorage.getItem("localLang");function L(t,e,n){b.classList.remove("visually-hidden"),c(t,e,n).then((function(t){var e=t.data;localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(e.results)),v(e.total_pages,"overlay-list-trends");var n=e.results.map((function(t){return'<li class="link list-films_card" data-id="'.concat(t.id,'">\n            <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/').concat(t.poster_path,'\n                    alt="movie poster"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">').concat((0,g.titleSrinking)(t.title),'</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">').concat((0,g.genresSrinking)((0,l.moviesGenresConvertation)(t.genre_ids)),'</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ').concat((0,h.dateConvertation)(t.release_date),"\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>")})).join("");y.innerHTML="",y.insertAdjacentHTML("afterbegin",n)})).catch((function(t){console.log(t)}))}x.disabled=!0,(0,s.fetchMovieGenres)(),L(k,d.data,C),w.addEventListener("input",(function(){w.checked?(C="uk",(0,s.fetchMovieGenres)(),L(k,C,d.data)):(C="en",(0,s.fetchMovieGenres)(),L(k,C,d.data))})),x.addEventListener("click",(function(){y.innerHTML="",x.classList.add("act"),x.disabled=!0,S.classList.remove("act"),S.disabled=!1,k="day",d.change(1),L(k,1,C)})),S.addEventListener("click",(function(){y.innerHTML="",S.classList.add("act"),S.disabled=!0,x.classList.remove("act"),x.disabled=!1,k="week",d.change(1),L(k,1,C)}));var q=a("bpxeT"),T=a("2TvXO"),_=(q=a("bpxeT"),T=a("2TvXO"),r=a("dIxxU"),a("b7JqP")),M="0d2fc6d2597c3f501e7437cf40d08b03",H="".concat("https://api.themoviedb.org/3","/search/movie"),E="";function I(t,e){return O.apply(this,arguments)}function O(){return(O=t(q)(t(T).mark((function e(n,o){var a;return t(T).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,_.enableSpinnerSearch)(),E=localStorage.getItem("localLang"),e.next=5,t(r).get("".concat(H,"?api_key=").concat(M,"&query=").concat(n,"&language=").concat(E,"&page=").concat(o));case 5:return a=e.sent.data,(0,_.disableSpinnerSearch)(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),(0,_.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}l=a("hsNhQ"),g=a("70uTk"),h=a("2dZGR");var A=document.querySelector(".list-films");function j(t){var e=t.map((function(t){return'<li class="link list-films_card" data-id=\''.concat(t.id,'\'>\n        <a class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=').concat((e=t.poster_path,null===e?"https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif":"https://image.tmdb.org/t/p/original/"+e),'\n                  alt="').concat((0,g.titleSrinking)(t.title),' poster"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">').concat((0,g.titleSrinking)(t.title),'</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">').concat((0,g.genresSrinking)((0,l.moviesGenresConvertation)(t.genre_ids)),'</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ').concat((0,h.dateConvertation)(t.release_date),"\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>");var e})).join("");A.insertAdjacentHTML("afterbegin",e)}var N=document.querySelector(".search-form"),U=document.querySelector(".warning-notification"),G=document.querySelector(".trending-selector"),R=document.querySelector("input"),D=null;function P(t,e){return B.apply(this,arguments)}function B(){return(B=t(q)(t(T).mark((function e(n,o){var a,r;return t(T).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I(n,o);case 3:if(a=t.sent,0!==(r=a.results).length){t.next=11;break}if("en"!==localStorage.getItem("localLang")){t.next=10;break}return t.abrupt("return",U.textContent="Search result is not successful. Enter the correct movie name, please!");case 10:return t.abrupt("return",U.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!");case 11:localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(a.results)),U.textContent="",j(r),v(a.total_pages,"overlay-list-search"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0.message);case 21:case"end":return t.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}N.addEventListener("submit",(function(t){if(t.preventDefault(),d.change(1),!(D=t.target.elements.searchQuery.value.trim()))return U.textContent="Enter a film title, please!";U.textContent="",G.classList.add("visually-hidden"),P(D,d.data)})),R.addEventListener("input",(function(t){U.textContent="",(D=t.target.value)||L(k,1)})),a("a43B7");var J=document.querySelector("#checkbox"),Z=document.querySelector("html"),Q=document.querySelector("#home"),F=document.querySelector("#library"),W=document.querySelector(".search-form-input"),X=document.querySelector("[data-login-modal-open]"),z=document.querySelector("[data-signup-modal-open]"),K=document.querySelector("[data-logout]"),V=document.querySelector(".trending-selector-text"),Y=document.querySelector("#btnDay"),$=document.querySelector("#btnWeek"),tt=document.querySelector("#logInTitle"),et=document.querySelector("#logInEmail"),nt=document.querySelector("#logInPassword"),ot=document.querySelector("#logInBtn"),at=document.querySelector("#signUpTitle"),rt=document.querySelector("#signUpEmail"),it=(document.querySelector("#signUpPasswoerd"),document.querySelector("#btnSignUp")),ct=document.querySelector("#footerRight"),st=document.querySelector("#developText"),lt=document.querySelector("#footerText"),dt=document.querySelector("#footerStudent");function ut(){Z.setAttribute("html","en"),ft(),Q.textContent="Home",F.textContent="My library",W.setAttribute("placeholder","Movie search"),X.textContent="Log in",z.textContent="Sign up",K.textContent="Log out",V.textContent="Popular by",Y.textContent="Day",$.textContent="Week",tt.textContent="Enter your email and password for log in",et.textContent="Email",nt.textContent="Password",ot.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Log in',at.textContent="Enter your email and password for sign up",rt.textContent="Email",nt.textContent="Password",it.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Sign up',ct.textContent="© 2022 | All Rights Reserved |",st.textContent="Developed with",lt.textContent="by",dt.textContent="GoIT Students"}function mt(){Z.setAttribute("html","uk"),ft(),Q.textContent="Домашня",F.textContent="Моя бібліотека",W.setAttribute("placeholder","Пошук фільмів"),X.textContent="Вхід",z.textContent="Реєстрація",K.textContent="Вихід",V.textContent="Популярні за",Y.textContent="День",$.textContent="Тиждень",tt.textContent="Введіть електронну скриньку та пароль для входу",et.textContent="Електронна скринька",nt.textContent="Пароль",ot.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnerlogin"></span>Вхід',at.textContent="Введіть електрону скриньку та пароль для реєстрації",rt.textContent="Електронна скринька",nt.textContent="Пароль",it.innerHTML='<span class="submit-spinner submit-spinner_hide" id="spinnersignup"></span>Зареєструватися',ct.textContent="© 2022 | Всі права захищено |",st.textContent="Розроблено зі",lt.textContent="",dt.textContent="Cтудентами GoIt"}function ft(){localStorage.setItem("localLang",Z.getAttribute("html"))}"uk"===localStorage.getItem("localLang")?(J.checked=!0,mt()):(J.checked=!1,Z.setAttribute("html","en"),ut()),J.addEventListener("input",(function(t){t.preventDefault(),J.checked?mt():ut()})),a("4F07H"),a("1Gwk9"),document.querySelector(".library-cards-film").addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;var e=document.querySelector("#overlay-list-search");if(!e)return;if(e.remove(),"flip-left"===t.target.dataset.action)return e.remove(),d.minusOne(),P(D,d.data),void window.scrollTo(0,0);if("flip-right"===t.target.dataset.action)return e.remove(),d.plusOne(),P(D,d.data),void window.scrollTo(0,0);d.change(Number(t.target.textContent)),e.remove(),P(D,d.data),window.scrollTo(0,0)}));var pt=document.documentElement,vt=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){var t=pt.scrollHeight-pt.clientHeight;pt.scrollTop/t>.4?vt.classList.remove("visually-hidden"):vt.classList.add("visually-hidden")})),vt.addEventListener("click",(function(){pt.scrollTo({top:1,behavior:"smooth"})})),vt.classList.add("visually-hidden"),a("b7JqP"),a("2Z7mb")}();
//# sourceMappingURL=index.c583f7ba.js.map
