var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired76b;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired76b=n);var r=n("137kL"),i=n("6nRjx"),o=n("gfB1D");const l=document.querySelector("#homeL"),s=document.querySelector("#libraryL"),c=document.querySelector("[data-watched-btn]"),d=document.querySelector("[data-queue-btn]");var u=n("9B33X");const g=document.querySelector("#checkbox"),b=document.querySelector("[data-logout]");function m(){c.textContent="Watched",d.textContent="Queue",l.textContent="Home",s.textContent="My library",b.textContent="Log out",(0,r.logInEn)(),(0,i.signUpEn)(),(0,o.footerEn)(),u.languege.setAttribute("lang","en"),(0,u.setLocalLang)()}function f(){l.textContent="Домашня",s.textContent="Моя бібліотека",c.textContent="Переглянуті",d.textContent="В черзі",b.textContent="Вихід",(0,r.logInUk)(),(0,i.signUpUk)(),(0,o.footerUk)(),u.languege.setAttribute("lang","uk"),(0,u.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(g.checked=!0,f()):(g.checked=!1,u.languege.setAttribute("html","en"),m()),g.addEventListener("input",(function(e){e.preventDefault(),g.checked?f():m()})),n("js4LK"),n("bMZn5"),n("422V3"),n("9CwSo"),n("gY4QW"),n("jE1jP");var v=n("amyG6"),y=n("fteFn"),p=n("kBzfj");v=n("amyG6");let h=null;const L=(0,v.getAuth)();(0,v.onAuthStateChanged)(L,(e=>{e&&(h=e.uid)}));let _={data:1,totalData:null,setTotalData:function(e){const t=JSON.parse(localStorage.getItem(h));this.totalData=Math.ceil(t[e].length/9)},dataUpdate:function(){return localStorage.getItem("current-page")?(this.data=Number(localStorage.getItem("current-page")),this.data):void 0},change:function(e){this.data=e,localStorage.setItem("current-page",e)}};const w=document.querySelector(".library-cards-film");function k(e){const t=document.querySelector("#overlay-list-library");t&&t.remove(),_.setTotalData(E.data);let a="";for(let e=1;e<=_.totalData;e++)a+=S(e);a=`<div class='overlay-pagination' id='${e}'>${a}</div>`,w.insertAdjacentHTML("beforeend",a)}function S(e){let t="";return e===_.data?t+`<button class='btn-pagination-active'>${e}</button>`:t+`<button class='btn-pagination'>${e}</button>`}w.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-library");if(!t)return;_.change(Number(e.target.textContent)),t.remove(),function(e){let t=JSON.parse(localStorage.getItem(h))[e];if(_.setTotalData(E.data),t.length>9){let e=9*(_.data-1),a=e+9;return t=t.slice(e,a),void N(h,t)}N(h,t)}(E.data),window.scrollTo(0,0)}));var q=n("3k5Ll"),T=n("l4Mc0"),x=n("gxGpx");let E={data:"watched",change:function(e){this.data=e}},M=null;const C=(0,v.getAuth)();(0,v.onAuthStateChanged)(C,(e=>{if(e)M=e.uid,H.classList.add("library-active-btn"),H.removeAttribute("disabled"),j.removeAttribute("disabled"),U.innerHTML="",_.setTotalData(E.data),N(M,!1);else{let e;A.classList.add("footer-to-bottom"),D.innerHTML="",e="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',U.innerHTML="",U.insertAdjacentHTML("beforeend",e),H.setAttribute("disabled","disabled"),j.setAttribute("disabled","disabled"),H.classList.remove("library-active-btn"),j.classList.remove("library-active-btn")}}));const A=document.querySelector(".footer"),U=document.querySelector(".library__warning-container"),D=document.querySelector(".list-films"),H=document.querySelector("[data-watched-btn]"),j=document.querySelector("[data-queue-btn]");function I(e){if(e.target.hasAttribute("data-watched-btn")){E.change("watched"),H.classList.add("library-active-btn"),j.classList.remove("library-active-btn"),_.setTotalData(E.data),N(M,!1),_.dataUpdate()?_.dataUpdate():_.change(1);const e=document.querySelector("#overlay-list-library");return e&&e.remove(),void(_.totalData>1&&k("overlay-list-library"))}E.change("queue"),H.classList.remove("library-active-btn"),j.classList.add("library-active-btn"),_.setTotalData(E.data),N(M,!1),_.dataUpdate()?_.dataUpdate():_.change(1);const t=document.querySelector("#overlay-list-library");t&&t.remove(),_.totalData>1&&k("overlay-list-library")}function N(e,t){const a=localStorage.getItem(e),n=JSON.parse(a);_.dataUpdate();let r=n[E.data];if(0===r.length)return D.innerHTML="",void function(){const e=document.querySelector("#checkbox");let t,a="";a=e.checked?"uk":"en";A.classList.add("footer-to-bottom"),t="uk"===a?'<div class="library__warning-wrapper"><strong class="library__warning">На разі тут немає фільмів. Ви можете додати фільми відкривши детальний опис на <a href="/index.html" class="library__main-link">головній сторінці</a>!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning">Now there are no movies. You can add movies by opening the detailed description on the <a href="/index.html" class="library__main-link">main page</a>!</strong></div>';U.innerHTML="",U.insertAdjacentHTML("beforeend",t)}();if(r.length>9){let e=9*(_.data-1),t=e+9;r=r.slice(e,t)}t&&(r=t),A.classList.remove("footer-to-bottom");const i=r.map((e=>`<li class="link list-films_card" data-id='${e.id}'>\n        <a href="##" class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film lazyload"\n                    src="https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif"\n                    data-src=${(0,x.posterRender)(e.poster_path)}\n                    loading="lazy"\n                    alt="${e.original_title}"\n                />\n                </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,p.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,p.genresSrinking)((0,y.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n              ${(0,T.dateConvertation)(e.release_date)} <span class="info-block__values--orange">${e.vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`)).join("");_.totalData>1&&k("overlay-list-library"),U.innerHTML="",D.innerHTML="",D.insertAdjacentHTML("afterbegin",i)}H.addEventListener("click",I),j.addEventListener("click",I);let $=null;const O=document.querySelector(".modal-close"),G=document.querySelector("[data-film-modal]");function B(){$.removeEventListener("click",z),O.removeEventListener("click",B),document.removeEventListener("keydown",R),G.removeEventListener("click",Y)}function R(e){"Escape"===e.key&&B()}function Y(e){e.target.classList.contains("backdrop")&&B()}function z(e){setTimeout((()=>{N(M,!1),_.dataUpdate()?_.dataUpdate():_.change(1),k("overlay-list-library")}),0)}document.querySelector(".list-films").addEventListener("click",(function(e){if(!e.target.closest("li"))return;t=E.data,$=document.querySelector(`[data-action="${t}"]`),$.addEventListener("click",z),O.addEventListener("click",B),document.addEventListener("keydown",R),G.addEventListener("click",Y);var t}));document.querySelector("#checkbox").addEventListener("input",(async function(){if(await(0,q.fetchMovieGenres)(),!M){let e;return A.classList.add("footer-to-bottom"),D.innerHTML="",e="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',U.innerHTML="",void U.insertAdjacentHTML("beforeend",e)}N(M,!1),_.dataUpdate()?_.dataUpdate():_.change(1);k("overlay-list-library")})),n("6HA5D"),n("brr8Z"),n("jo2Hs");
//# sourceMappingURL=library.40461f4f.js.map
