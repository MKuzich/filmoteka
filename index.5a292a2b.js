function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired76b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired76b=i),i("bMZn5"),i("9CwSo"),i("gY4QW");var o=i("2shzp");function r(t,n,a){return e(o).get(`https://api.themoviedb.org/3/trending/movie/${t}?api_key=0d2fc6d2597c3f501e7437cf40d08b03&page=${n}&language=${a}`)}var s=i("3k5Ll"),l=i("fteFn");let d={data:1,change:function(e){this.data=e},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-trends");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),x(k,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),x(k,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),x(k,d.data),window.scrollTo(0,0)}));const c=document.querySelector(".library-cards-film"),u='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',f='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function g(e,t){let n="";return t?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":e===d.data?n+`<button class='btn-pagination-active'>${e}</button>`:n+`<button class='btn-pagination'>${e}</button>`}function m(e,t){const n=document.querySelector("#overlay-list-trends"),a=document.querySelector("#overlay-list-search");n&&n.remove(),a&&a.remove();let i="";if(e<=7){for(let t=1;t<=e;t++)i+=g(t);return i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(7),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else if(d.data<=e-5){if(window.matchMedia("(min-width: 768px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-2),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data+2),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else{if(window.matchMedia("(max-width: 320px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-6),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}}var v=i("kBzfj"),p=i("l4Mc0");const h=document.querySelector(".list-films"),y=document.querySelector(".trending-selector"),b=document.querySelector(".day"),w=document.querySelector(".week"),S=document.querySelector("#checkbox");let k="day",L=localStorage.getItem("localLang");function x(e,t,n){y.classList.remove("visually-hidden"),r(e,t,n).then((({data:e})=>{localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(e.results)),m(e.total_pages,"overlay-list-trends");const t=e.results.map((e=>`<li class="link list-films_card" data-id="${e.id}">\n            <a class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=https://image.tmdb.org/t/p/original/${e.poster_path}\n                    alt="movie poster"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>`)).join("");h.innerHTML="",h.insertAdjacentHTML("afterbegin",t)})).catch((e=>{console.log(e)}))}b.disabled=!0,(0,s.fetchMovieGenres)(),x(k,d.data,L),S.addEventListener("input",(function(){S.checked?(L="uk",(0,s.fetchMovieGenres)(),x(k,L,d.data)):(L="en",(0,s.fetchMovieGenres)(),x(k,L,d.data))})),b.addEventListener("click",(function(){h.innerHTML="",b.classList.add("act"),b.disabled=!0,w.classList.remove("act"),w.disabled=!1,k="day",d.change(1),x(k,1,L)})),w.addEventListener("click",(function(){h.innerHTML="",w.classList.add("act"),w.disabled=!0,b.classList.remove("act"),b.disabled=!1,k="week",d.change(1),x(k,1,L)}));o=i("2shzp");var _=i("js4LK");let M="";async function $(t,n){try{(0,_.enableSpinnerSearch)(),M=localStorage.getItem("localLang");const{data:a}=await e(o).get(`https://api.themoviedb.org/3/search/movie?api_key=0d2fc6d2597c3f501e7437cf40d08b03&query=${t}&language=${M}&page=${n}`);return(0,_.disableSpinnerSearch)(),a}catch(e){(0,_.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+e)}}l=i("fteFn"),v=i("kBzfj"),p=i("l4Mc0");const q=document.querySelector(".list-films");function C(e){const t=e.map((e=>{return`<li class="link list-films_card" data-id='${e.id}'>\n        <a class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=${t=e.poster_path,null===t?"https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif":"https://image.tmdb.org/t/p/original/"+t}\n                  alt="${(0,v.titleSrinking)(e.title)} poster"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,l.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`;var t})).join("");q.insertAdjacentHTML("afterbegin",t)}const T=document.querySelector(".search-form"),j=document.querySelector(".warning-notification"),E=document.querySelector(".trending-selector"),H=document.querySelector("input");let A=null;async function O(e,t){try{const n=await $(e,t),a=n.results;if(0===a.length)return"en"===localStorage.getItem("localLang")?j.textContent="Search result is not successful. Enter the correct movie name, please!":j.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!";localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(n.results)),j.textContent="",C(a),m(n.total_pages,"overlay-list-search")}catch(e){console.log(e.message)}}T.addEventListener("submit",(function(e){if(e.preventDefault(),d.change(1),A=e.target.elements.searchQuery.value.trim(),!A)return"en"===localStorage.getItem("localLang")?j.textContent="Enter a film title, please!":j.textContent="Будь ласка, введіть назву фільма!";j.textContent="",E.classList.add("visually-hidden"),O(A,d.data)})),H.addEventListener("input",(function(e){j.textContent="",A=e.target.value,A||x(k,1)})),i("jE1jP");var I=i("137kL"),N=i("6nRjx"),U=i("gfB1D");const B=document.querySelector("#home"),D=document.querySelector("#library"),G=document.querySelector(".search-form-input"),z=document.querySelector(".trending-selector-text"),J=document.querySelector("#btnDay"),F=document.querySelector("#btnWeek");var R=i("9B33X");const W=document.querySelector("#checkbox"),K=document.querySelector("[data-logout]");function P(){R.languege.setAttribute("lang","en"),B.textContent="Home",D.textContent="My library",G.setAttribute("placeholder","Movie search"),z.textContent="Popular by",J.textContent="Day",F.textContent="Week",K.textContent="Log out",(0,I.logInEn)(),(0,N.signUpEn)(),(0,U.footerEn)(),(0,R.setLocalLang)()}function Q(){R.languege.setAttribute("lang","uk"),B.textContent="Домашня",D.textContent="Моя бібліотека",G.setAttribute("placeholder","Пошук фільмів"),z.textContent="Популярні за",J.textContent="День",F.textContent="Тиждень",K.textContent="Вихід",(0,I.logInUk)(),(0,N.signUpUk)(),(0,U.footerUk)(),(0,R.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(W.checked=!0,Q()):(W.checked=!1,R.languege.setAttribute("lang","en"),P()),W.addEventListener("input",(function(e){e.preventDefault(),W.checked?Q():P()})),i("6HA5D"),i("422V3");document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-search");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),O(A,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),O(A,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),O(A,d.data),window.scrollTo(0,0)}));const Z=document.documentElement,V=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){const e=Z.scrollHeight-Z.clientHeight;Z.scrollTop/e>.4?V.classList.remove("visually-hidden"):V.classList.add("visually-hidden")})),V.addEventListener("click",(function(){Z.scrollTo({top:1,behavior:"smooth"})})),V.classList.add("visually-hidden"),i("js4LK"),i("brr8Z");
//# sourceMappingURL=index.5a292a2b.js.map
