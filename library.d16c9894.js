!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequired76b;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired76b=r);var i=r("2eh48"),o=r("2EUDM"),c=r("jf5Po"),l=document.querySelector("#homeL"),s=document.querySelector("#libraryL"),d=document.querySelector("[data-watched-btn]"),u=document.querySelector("[data-queue-btn]");var v=r("2buvE"),g=document.querySelector("#checkbox"),f=document.querySelector("[data-logout]");function m(){d.textContent="Watched",u.textContent="Queue",l.textContent="Home",s.textContent="My library",f.textContent="Log out",(0,i.logInEn)(),(0,o.signUpEn)(),(0,c.footerEn)(),v.languege.setAttribute("lang","en"),(0,v.setLocalLang)()}function b(){l.textContent="Домашня",s.textContent="Моя бібліотека",d.textContent="Переглянуті",u.textContent="В черзі",f.textContent="Вихід",(0,i.logInUk)(),(0,o.signUpUk)(),(0,c.footerUk)(),v.languege.setAttribute("lang","uk"),(0,v.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(g.checked=!0,b()):(g.checked=!1,v.languege.setAttribute("html","en"),m()),g.addEventListener("input",(function(e){e.preventDefault(),g.checked?b():m()})),r("b7JqP"),r("euqRf"),r("1Gwk9"),r("e7S07"),r("cRUDO"),r("a43B7");var y=r("bpxeT"),p=r("2TvXO"),h=r("3SEMc"),L=r("hsNhQ"),_=r("70uTk"),k=(h=r("3SEMc"),null),w=(0,h.getAuth)();(0,h.onAuthStateChanged)(w,(function(e){e&&(k=e.uid)}));var S={data:1,totalData:null,setTotalData:function(e){var t=JSON.parse(localStorage.getItem(k));this.totalData=Math.ceil(t[e].length/9)},dataUpdate:function(){return localStorage.getItem("current-page")?(this.data=Number(localStorage.getItem("current-page")),this.data):void 0},change:function(e){this.data=e,localStorage.setItem("current-page",e)}},E=document.querySelector(".library-cards-film");function q(e){var t=document.querySelector("#overlay-list-library");t&&t.remove(),S.setTotalData(A.data);for(var a="",n=1;n<=S.totalData;n++)a+=T(n);a="<div class='overlay-pagination' id='".concat(e,"'>").concat(a,"</div>"),E.insertAdjacentHTML("beforeend",a)}function T(e){var t="";return e===S.data?t+"<button class='btn-pagination-active'>".concat(e,"</button>"):t+"<button class='btn-pagination'>".concat(e,"</button>")}E.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=document.querySelector("#overlay-list-library");if(!t)return;S.change(Number(e.target.textContent)),t.remove(),function(e){var t=JSON.parse(localStorage.getItem(k))[e];if(S.setTotalData(A.data),t.length>9){var a=9*(S.data-1),n=a+9;return t=t.slice(a,n),void G(k,t)}G(k,t)}(A.data),window.scrollTo(0,0)}));var x=r("2ZaIc"),M=r("2dZGR"),U=r("1wRKO"),A={data:"watched",change:function(e){this.data=e}},C=null,D=(0,h.getAuth)();(0,h.onAuthStateChanged)(D,(function(e){var t;e?(C=e.uid,O.classList.add("library-active-btn"),O.removeAttribute("disabled"),j.removeAttribute("disabled"),I.innerHTML="",S.setTotalData(A.data),G(C,!1)):(H.classList.add("footer-to-bottom"),N.innerHTML="",t="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',I.innerHTML="",I.insertAdjacentHTML("beforeend",t),O.setAttribute("disabled","disabled"),j.setAttribute("disabled","disabled"),O.classList.remove("library-active-btn"),j.classList.remove("library-active-btn"))}));var H=document.querySelector(".footer"),I=document.querySelector(".library__warning-container"),N=document.querySelector(".list-films"),O=document.querySelector("[data-watched-btn]"),j=document.querySelector("[data-queue-btn]");function R(e){if(e.target.hasAttribute("data-watched-btn")){A.change("watched"),O.classList.add("library-active-btn"),j.classList.remove("library-active-btn"),S.setTotalData(A.data),G(C,!1),S.dataUpdate()?S.dataUpdate():S.change(1);var t=document.querySelector("#overlay-list-library");return t&&t.remove(),void(S.totalData>1&&q("overlay-list-library"))}A.change("queue"),O.classList.remove("library-active-btn"),j.classList.add("library-active-btn"),S.setTotalData(A.data),G(C,!1),S.dataUpdate()?S.dataUpdate():S.change(1);var a=document.querySelector("#overlay-list-library");a&&a.remove(),S.totalData>1&&q("overlay-list-library")}function G(e,t){var a=localStorage.getItem(e),n=JSON.parse(a);S.dataUpdate();var r=n[A.data];if(0===r.length)return N.innerHTML="",void function(){var e,t=document.querySelector("#checkbox"),a="";a=t.checked?"uk":"en";H.classList.add("footer-to-bottom"),e="uk"===a?'<div class="library__warning-wrapper"><strong class="library__warning">На разі тут немає фільмів. Ви можете додати фільми відкривши детальний опис на <a href="./index.html" class="library__main-link">головній сторінці</a>!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning">Now there are no movies. You can add movies by opening the detailed description on the <a href="./index.html" class="library__main-link">main page</a>!</strong></div>';I.innerHTML="",I.insertAdjacentHTML("beforeend",e)}();if(r.length>9){var i=9*(S.data-1),o=i+9;r=r.slice(i,o)}t&&(r=t),H.classList.remove("footer-to-bottom");var c=r.map((function(e){return'<li class="link list-films_card" data-id=\''.concat(e.id,'\'>\n        <a href="##" class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film lazyload"\n                    src="https://subscribenow.com.au/time/asia/Solo/Content/Images/noCover.gif"\n                    data-src=').concat((0,U.posterRender)(e.poster_path),'\n                    loading="lazy"\n                    alt="').concat(e.original_title,'"\n                />\n                </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">').concat((0,_.titleSrinking)(e.title),'</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">').concat((0,_.genresSrinking)((0,L.moviesGenresConvertation)(e.genre_ids)),'</p>\n              <p class="list-films_card-info-footer-production-year">\n              ').concat((0,M.dateConvertation)(e.release_date),' <span class="info-block__values--orange">').concat(e.vote_average.toFixed(1),"</span>\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>")})).join("");S.totalData>1&&q("overlay-list-library"),I.innerHTML="",N.innerHTML="",N.insertAdjacentHTML("afterbegin",c)}O.addEventListener("click",R),j.addEventListener("click",R);var J=null,P=document.querySelector(".modal-close"),F=document.querySelector("[data-film-modal]");function Y(){J.removeEventListener("click",B),P.removeEventListener("click",Y),document.removeEventListener("keydown",Z),F.removeEventListener("click",z)}function Z(e){"Escape"===e.key&&Y()}function z(e){e.target.classList.contains("backdrop")&&Y()}function B(e){setTimeout((function(){G(C,!1),S.dataUpdate()?S.dataUpdate():S.change(1),q("overlay-list-library")}),0)}function Q(){return(Q=e(y)(e(p).mark((function t(){var a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.fetchMovieGenres)();case 2:if(C){e.next=10;break}return H.classList.add("footer-to-bottom"),N.innerHTML="",a="uk"===localStorage.getItem("localLang")?'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>На разі тут немає фільмів. Щоб користуватися цією бібліотекою, ви повинні ввійти в систему! Будь ласка, увійдіть або зареєструйтеся!</strong></div>':'<div class="library__warning-wrapper"><strong class="library__warning" id = \'warning\'>Now there are no movies. You must be loginned for using this library! Please log in or sign up!</strong></div>',I.innerHTML="",I.insertAdjacentHTML("beforeend",a),e.abrupt("return");case 10:G(C,!1),S.dataUpdate()?S.dataUpdate():S.change(1),q("overlay-list-library");case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.querySelector(".list-films").addEventListener("click",(function(e){if(!e.target.closest("li"))return;t=A.data,(J=document.querySelector('[data-action="'.concat(t,'"]'))).addEventListener("click",B),P.addEventListener("click",Y),document.addEventListener("keydown",Z),F.addEventListener("click",z);var t})),document.querySelector(".random-finder__btn").addEventListener("click",(function(e){var t=null;(t=document.querySelectorAll("[data-action]")).forEach((function(e){return e.addEventListener("click",B)})),P.addEventListener("click",(function e(){t.forEach((function(e){return e.removeEventListener("click",B)})),P.removeEventListener("click",e),document.removeEventListener("keydown",Z),F.removeEventListener("click",z)})),document.addEventListener("keydown",Z),F.addEventListener("click",z)})),document.querySelector("#checkbox").addEventListener("input",(function(){return Q.apply(this,arguments)})),r("4F07H"),r("2Z7mb"),r("jSiUv")}();
//# sourceMappingURL=library.d16c9894.js.map
