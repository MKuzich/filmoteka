function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired76b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired76b=i),i("bMZn5"),i("9CwSo"),i("gY4QW");var o=i("2shzp");function r(t,n,a){return e(o).get(`https://api.themoviedb.org/3/trending/movie/${t}?api_key=0d2fc6d2597c3f501e7437cf40d08b03&page=${n}&language=${a}`)}var l=i("3k5Ll"),s=i("fteFn");let d={data:1,change:function(e){this.data=e},plusOne:function(){this.data++},minusOne:function(){this.data--}};document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-trends");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),M(x,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),M(x,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),M(x,d.data),window.scrollTo(0,0)}));const c=document.querySelector(".library-cards-film"),u='<button class=\'btn-pagination-arrow\' data-action=\'flip-left\' aria-label=\'flip left\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.6666 8H3.33325" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>',f='<button class=\'btn-pagination-arrow\' data-action=\'flip-right\' aria-label=\'flip right\'><svg class=\'svg-pagination-btn\' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.33341 8H12.6667" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337" stroke="inherit" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n</button>';function g(e,t){let n="";return t?n+"<button class=\"btn-pagination pagination-dots\" disabled='true'>...</button>":e===d.data?n+`<button class='btn-pagination-active'>${e}</button>`:n+`<button class='btn-pagination'>${e}</button>`}function m(e,t){const n=document.querySelector("#overlay-list-trends"),a=document.querySelector("#overlay-list-search");n&&n.remove(),a&&a.remove();let i="";if(e<=7){for(let t=1;t<=e;t++)i+=g(t);return i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i)}if(d.data<6){if(window.matchMedia("(max-width: 320px)").matches)return i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=g(1),i+=g(2),i+=g(3),i+=g(4),i+=g(5),i+=g(6),i+=g(7),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else if(d.data<=e-5){if(window.matchMedia("(min-width: 768px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-2),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data+2),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(d.data-1),i+=g(d.data),i+=g(d.data+1),i+=g(d.data,!0),i+=g(e),i+=f,i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}else{if(window.matchMedia("(max-width: 320px)").matches)return i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,void c.insertAdjacentHTML("beforeend",i);i+=u,i+=g(1),i+=g(d.data,!0),i+=g(e-6),i+=g(e-5),i+=g(e-4),i+=g(e-3),i+=g(e-2),i+=g(e-1),i+=g(e),i=`<div class='overlay-pagination' id='${t}'>${i}</div>`,c.insertAdjacentHTML("beforeend",i)}}var v=i("kBzfj"),p=i("l4Mc0"),h=i("jo2Hs"),y=i("gxGpx");const b=document.querySelector(".list-films"),w=document.querySelector(".trending-selector"),S=document.querySelector(".day"),k=document.querySelector(".week"),L=document.querySelector("#checkbox");let x="day",_=localStorage.getItem("localLang");function M(e,t,n){w.classList.remove("visually-hidden"),r(e,t,n).then((({data:e})=>{localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(e.results)),m(e.total_pages,"overlay-list-trends");const t=e.results.map((e=>`<li class="link list-films_card" data-id="${e.id}">\n            <a href="##" class="link list-films_card-info">\n                <div class="card-image__wrapper">\n                    <img\n                    class="list-films_card-info_card-film"\n                    src=${(0,y.posterRender)(e.poster_path)}\n                    loading="lazy"\n                    alt="${(0,v.titleSrinking)(e.title)}"\n                />\n                </div>\n                <div class="list-films_card-info-footer">\n                <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n                  <div class="card-info-footer_characteristics">\n                  <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,s.moviesGenresConvertation)(e.genre_ids))}</p>\n                  <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n                  </p>\n                  </div>\n                </div>\n            </a>\n            </li>`)).join("");b.innerHTML="",b.insertAdjacentHTML("afterbegin",t)})).catch((e=>{(0,h.notificationLaunch)(e.message)}))}S.disabled=!0,(0,l.fetchMovieGenres)(),M(x,d.data,_),L.addEventListener("input",(function(){L.checked?(_="uk",(0,l.fetchMovieGenres)(),M(x,d.data,_)):(_="en",(0,l.fetchMovieGenres)(),M(x,d.data,_))})),S.addEventListener("click",(function(){b.innerHTML="",S.classList.add("act"),S.disabled=!0,k.classList.remove("act"),k.disabled=!1,x="day",d.change(1),M(x,1,_)})),k.addEventListener("click",(function(){b.innerHTML="",k.classList.add("act"),k.disabled=!0,S.classList.remove("act"),S.disabled=!1,x="week",d.change(1),M(x,1,_)}));o=i("2shzp");var $=i("js4LK");let q="";async function T(t,n){try{(0,$.enableSpinnerSearch)(),q=localStorage.getItem("localLang");const{data:a}=await e(o).get(`https://api.themoviedb.org/3/search/movie?api_key=0d2fc6d2597c3f501e7437cf40d08b03&query=${t}&language=${q}&page=${n}`);return(0,$.disableSpinnerSearch)(),a}catch(e){(0,$.disableSpinnerSearch)(),console.error("Smth wrong with api search fetch"+e)}}s=i("fteFn"),v=i("kBzfj"),p=i("l4Mc0"),y=i("gxGpx");const C=document.querySelector(".list-films");function j(e){const t=e.map((e=>`<li class="link list-films_card" data-id='${e.id}'>\n        <a href="##" class="link list-films_card-info">\n            <div class="card-image__wrapper">\n              <img\n                  class="list-films_card-info_card-film"\n                  src=${(0,y.posterRender)(e.poster_path)}\n                  loading="lazy"\n                  alt="${(0,v.titleSrinking)(e.title)}"\n              />\n            </div>\n            <div class="list-films_card-info-footer">\n            <h2 class="list-films_card-info-footer-name-film">${(0,v.titleSrinking)(e.title)}</h2>\n              <div class="card-info-footer_characteristics">\n              <p class="list-films_card-info-footer-genre-film">${(0,v.genresSrinking)((0,s.moviesGenresConvertation)(e.genre_ids))}</p>\n              <p class="list-films_card-info-footer-production-year">\n                  ${(0,p.dateConvertation)(e.release_date)}\n              </p>\n              </div>\n            </div>\n        </a>\n        </li>`)).join("");C.innerHTML="",C.insertAdjacentHTML("afterbegin",t)}h=i("jo2Hs");const H=document.querySelector(".search-form"),E=document.querySelector(".warning-notification"),A=document.querySelector(".trending-selector"),O=document.querySelector("input");let N=null;async function I(e,t){try{const n=await T(e,t),a=n.results;if(0===a.length)return"en"===localStorage.getItem("localLang")?E.textContent="Search result is not successful. Enter the correct movie name, please!":E.textContent="Результат пошуку невдалий. Будь ласка, введіть правильну назву фільму!";localStorage.setItem("downloadedMovies",JSON.stringify("")),localStorage.setItem("downloadedMovies",JSON.stringify(n.results)),E.textContent="",j(a),m(n.total_pages,"overlay-list-search")}catch(e){(0,h.notificationLaunch)(e.message)}}H.addEventListener("submit",(function(e){if(e.preventDefault(),d.change(1),N=e.target.elements.searchQuery.value.trim(),!N)return"en"===localStorage.getItem("localLang")?E.textContent="Enter a film title, please!":E.textContent="Будь ласка, введіть назву фільма!";E.textContent="",A.classList.add("visually-hidden"),I(N,d.data)})),O.addEventListener("input",(function(e){E.textContent="",N=e.target.value,N||M(x,1)})),i("jE1jP");var U=i("137kL"),B=i("6nRjx"),D=i("gfB1D");const G=document.querySelector("#home"),z=document.querySelector("#library"),R=document.querySelector(".search-form-input"),J=document.querySelector(".trending-selector-text"),F=document.querySelector("#btnDay"),W=document.querySelector("#btnWeek");var K=i("9B33X");const P=document.querySelector("#checkbox"),Q=document.querySelector("[data-logout]");function Z(){K.languege.setAttribute("lang","en"),G.textContent="Home",z.textContent="My library",R.setAttribute("placeholder","Movie search"),J.textContent="Popular by",F.textContent="Day",W.textContent="Week",Q.textContent="Log out",(0,U.logInEn)(),(0,B.signUpEn)(),(0,D.footerEn)(),(0,K.setLocalLang)()}function V(){K.languege.setAttribute("lang","uk"),G.textContent="Домашня",z.textContent="Моя бібліотека",R.setAttribute("placeholder","Пошук фільмів"),J.textContent="Популярні за",F.textContent="День",W.textContent="Тиждень",Q.textContent="Вихід",(0,U.logInUk)(),(0,B.signUpUk)(),(0,D.footerUk)(),(0,K.setLocalLang)()}"uk"===localStorage.getItem("localLang")?(P.checked=!0,V()):(P.checked=!1,K.languege.setAttribute("lang","en"),Z()),P.addEventListener("input",(function(e){e.preventDefault(),P.checked?V():Z()})),i("6HA5D"),i("422V3");document.querySelector(".library-cards-film").addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=document.querySelector("#overlay-list-search");if(!t)return;if(t.remove(),"flip-left"===e.target.dataset.action)return t.remove(),d.minusOne(),I(N,d.data),void window.scrollTo(0,0);if("flip-right"===e.target.dataset.action)return t.remove(),d.plusOne(),I(N,d.data),void window.scrollTo(0,0);d.change(Number(e.target.textContent)),t.remove(),I(N,d.data),window.scrollTo(0,0)}));const X=document.documentElement,Y=document.querySelector(".scroll-up");document.addEventListener("scroll",(function(){const e=X.scrollHeight-X.clientHeight;X.scrollTop/e>.4?Y.classList.remove("visually-hidden"):Y.classList.add("visually-hidden")})),Y.addEventListener("click",(function(){X.scrollTo({top:1,behavior:"smooth"})})),Y.classList.add("visually-hidden"),i("js4LK"),i("brr8Z"),i("jo2Hs");
//# sourceMappingURL=index.8b8baec5.js.map
